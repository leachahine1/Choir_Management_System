{
    "sourceFile": "ISFM/modules/songs/views/Graphs.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 18,
            "patches": [
                {
                    "date": 1713947864021,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1713947921023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,605 @@\n+<?php\r\n+\r\n+// Define the sequence array\r\n+$sequence = [\r\n+    ['No Match', 'Sliding', ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match'],\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Sliding',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match', 'Match'\r\n+];\r\n+\r\n+// Initialize counters\r\n+$counts = [\r\n+    'Match' => 0,\r\n+    'No Match' => 0,\r\n+    'Sliding' => 0,\r\n+    'Duration Mismatch' => 0\r\n+];\r\n+\r\n+// Dummy durations and match counts\r\n+$durations = [];\r\n+$matches = [];\r\n+foreach ($sequence as $index => $item) {\r\n+    $durations[] = rand(1, 100);  // Random duration between 1 and 100\r\n+    if ($item === 'Match' || (is_array($item) && in_array('Pitch Match', $item))) {\r\n+        $matches[] = ['x' => $index, 'y' => $durations[$index]];\r\n+    }\r\n+}\r\n+\r\n+// Calculate counts\r\n+foreach ($sequence as $item) {\r\n+    if (is_array($item)) {\r\n+        $counts['Duration Mismatch']++;\r\n+    } elseif ($item === 'Match') {\r\n+        $counts['Match']++;\r\n+    } elseif ($item === 'No Match') {\r\n+        $counts['No Match']++;\r\n+    } elseif ($item === 'Sliding') {\r\n+        $counts['Sliding']++;\r\n+    }\r\n+}\r\n+\r\n+// Prepare data points for Flot\r\n+$dataPoints = [];\r\n+$currentMatches = 0;\r\n+foreach ($sequence as $index => $item) {\r\n+    if ($item === 'Match') {\r\n+        $currentMatches++;\r\n+    }\r\n+    $dataPoints[] = [$index, $currentMatches];\r\n+}\r\n+\r\n+// Initialize counters\r\n+$matchCount = 0;\r\n+$mismatchCount = 0;\r\n+\r\n+// Calculate counts\r\n+foreach ($sequence as $item) {\r\n+    if (is_array($item)) {\r\n+        // Assuming 'Pitch Match', 'Duration Mismatch' is a type of match for simplicity\r\n+        $matchCount++;\r\n+    } elseif ($item === 'Match') {\r\n+        $matchCount++;\r\n+    } elseif ($item === 'No Match') {\r\n+        $mismatchCount++;\r\n+    }\r\n+}\r\n+$matchCount = count(array_filter($sequence, function($item) {\r\n+    return $item === 'Match' || (is_array($item) && in_array('Pitch Match', $item));\r\n+}));\r\n+\r\n+// Data for Flot\r\n+$flotData = [\r\n+    [\"label\" => \"Matches\", \"data\" => $matchCount, \"color\" => \"#00FF00\"],\r\n+    [\"label\" => \"Mismatches\", \"data\" => $mismatchCount, \"color\" => \"#FF0000\"]\r\n+];\r\n+\r\n+$matches = array_map(function ($match) {\r\n+    return [$match['x'], $match['y']];\r\n+}, $matches);\r\n+\r\n+?>\r\n+<!-- BEGIN CONTENT -->\r\n+<div class=\"page-content-wrapper\">\r\n+    <div class=\"page-content\">\r\n+        <!-- BEGIN PAGE HEADER-->\r\n+        <div class=\"row\">\r\n+            <div class=\"col-md-12\">\r\n+                <!-- BEGIN PAGE TITLE & BREADCRUMB-->\r\n+                <h3 class=\"page-title\">\r\n+                    <?php echo lang('sub_set_optional'); ?>\r\n+                </h3>\r\n+                <ul class=\"page-breadcrumb breadcrumb\">\r\n+                    <li>\r\n+                        <i class=\"fa fa-home\"></i>Home\r\n+                    </li>\r\n+                    <li>\r\n+                        <?php echo lang('sub_song'); ?>\r\n+                    </li>\r\n+                    <li>\r\n+                        <?php echo lang('header_ass_opt_sub'); ?>\r\n+                    </li>\r\n+                    <li id=\"result\" class=\"pull-right topClock\"></li>\r\n+                </ul>\r\n+                <!-- END PAGE TITLE & BREADCRUMB-->\r\n+            </div>\r\n+        </div>\r\n+        <!-- END PAGE HEADER-->\r\n+\r\n+        <!-- BEGIN PAGE CONTENT-->\r\n+        <div class=\"row\">\r\n+            <!-- Bar Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-bar-chart\"></i> Bar Chart for Match Count\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"bar_chart\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Pie Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-pie-chart\"></i> Pie Chart for Match Distribution\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                    <canvas id=\"pie_chart\" style=\"max-width:400px; max-height:400px;\"></canvas>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Line Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-line-chart\"></i> Line Chart for Match Proportion Over Time\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"line_chart\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Stacked Bar Chart Placeholder -->\r\n+          \r\n+\r\n+              <!--  Bar Chart Placeholder -->\r\n+             <!-- Bar Chart Placeholder -->\r\n+                <div class=\"col-md-12\">\r\n+                    <div class=\"portlet box purple\" style=\"background-color: white;\">\r\n+                        <div class=\"portlet-title\">\r\n+                            <div class=\"caption\">\r\n+                                <i class=\"fa fa-bars\"></i> Bar Chart for scores across sequences\r\n+                            </div>\r\n+                        </div>\r\n+                        <div class=\"portlet-body\">\r\n+                            <canvas id=\"scoresChart\"></canvas>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+\r\n+            <!-- Scatter Plot Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box blue\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-scatter-plot\"></i> Scatter Plot for Matches vs. Duration\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"scatter_plot\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box blue\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-scatter-plot\"></i> Histogram Plot for Sequence Duration\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                    <div id=\"histogram\" style=\"width:600px;height:300px;\"></div>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+\r\n+        </div>\r\n+        <!-- END PAGE CONTENT-->\r\n+    </div>\r\n+</div>\r\n+<!-- END CONTENT -->\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/jquery\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/jquery.flot\"></script>\r\n+<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flot/4.2.6/jquery.flot.categories.min.js\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<canvas id=\"pie_chart\"></canvas>\r\n+\r\n+\r\n+\r\n+\r\n+<script>  \r\n+ function updateBarChart() {\r\n+    var barData = [\r\n+    {\r\n+        label: \"Match\",\r\n+        data: [ [1, <?php echo $counts['Match']; ?>] ],\r\n+        color: \"#8A2BE2\"  // A shade of purple\r\n+    },\r\n+    {\r\n+        label: \"No Match\",\r\n+        data: [ [2, <?php echo $counts['No Match']; ?>] ],\r\n+        color: \"#DA70D6\"  // Another shade of purple\r\n+    },\r\n+    {\r\n+        label: \"Sliding\",\r\n+        data: [ [3, <?php echo $counts['Sliding']; ?>] ],\r\n+        color: \"#9370DB\"  // Another shade of purple\r\n+    },\r\n+    {\r\n+        label: \"Duration Mismatch\",\r\n+        data: [ [4, <?php echo $counts['Duration Mismatch']; ?>] ],\r\n+        color: \"#D8BFD8\"  // Another shade of purple\r\n+    }\r\n+];\r\n+\r\n+var options = {\r\n+    series: {\r\n+        bars: {\r\n+            show: true,\r\n+            barWidth: 0.5,\r\n+            align: 'center'\r\n+        }\r\n+    },\r\n+    xaxis: {\r\n+        mode: 'categories',\r\n+        tickLength: 0,\r\n+        label: \"Types\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        label: \"Count\" // Label for the y-axis\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        clickable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    legend: {\r\n+        show: true,\r\n+        position: \"ne\" // Legend at the top right corner\r\n+    }\r\n+};\r\n+\r\n+$.plot('#bar_chart', barData, options);\r\n+\r\n+}\r\n+\r\n+$(document).ready(function() {\r\n+    updateBarChart(); // This calls the function after the document is ready\r\n+});\r\n+\r\n+</script>\r\n+<script>\r\n+jQuery(document).ready(function() {\r\n+    function updatePieChart() {\r\n+        var data = {\r\n+            labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n+            datasets: [{\r\n+                data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n+                backgroundColor: ['rgba(255, 99, 132, 0.8)', 'rgba(54, 162, 235, 0.8)', 'rgba(255, 206, 86, 0.8)', 'rgba(75, 192, 192, 0.8)'],\r\n+                borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)'],\r\n+                borderWidth: 1\r\n+            }]\r\n+        };\r\n+        var ctx = document.getElementById('pie_chart').getContext('2d');\r\n+        var pieChart = new Chart(ctx, {\r\n+    type: 'pie',\r\n+    data: data,\r\n+    options: {\r\n+        responsive: true,\r\n+        legend: {\r\n+            position: 'top',\r\n+        },\r\n+        title: {\r\n+            display: true,\r\n+            text: 'Match Distribution'\r\n+        },\r\n+        tooltips: { // Enabling tooltips\r\n+            enabled: true\r\n+        },\r\n+        animation: {\r\n+            animateScale: true,\r\n+            animateRotate: true\r\n+        }\r\n+    }\r\n+});\r\n+    }\r\n+    updatePieChart();\r\n+});\r\n+</script>\r\n+\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateGraph() {\r\n+        // Fetch new data periodically (simulation here; replace with AJAX call in production)\r\n+        var data = <?php echo json_encode([$dataPoints]); ?>;\r\n+\r\n+     // Inside your existing updateGraph function\r\n+var options = {\r\n+    series: {\r\n+        lines: {\r\n+            show: true,\r\n+            fill: true\r\n+        },\r\n+        points: {\r\n+            show: true\r\n+        }\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        clickable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    xaxis: {\r\n+        tickDecimals: 0,\r\n+        tickSize: 1,\r\n+        label: \"Time\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        min: 0,\r\n+        tickSize: 1,\r\n+        label: \"Matches\" // Label for the y-axis\r\n+    },\r\n+    legend: {\r\n+        show: true\r\n+    }\r\n+};\r\n+$.plot(\"#line_chart\", data, options);\r\n+\r\n+\r\n+        // Tooltips setup\r\n+        $('<div id=\"tooltip\"></div>').css({\r\n+            position: \"absolute\",\r\n+            display: \"none\",\r\n+            border: \"1px solid #fdd\",\r\n+            padding: \"2px\",\r\n+            \"background-color\": \"#fee\",\r\n+            opacity: 0.80\r\n+        }).appendTo(\"body\");\r\n+\r\n+        $(\"#matchTimeGraph\").bind(\"plothover\", function (event, pos, item) {\r\n+            if (item) {\r\n+                var x = item.datapoint[0].toFixed(2),\r\n+                    y = item.datapoint[1].toFixed(2);\r\n+\r\n+                $(\"#tooltip\").html(\"Match at \" + x + \": \" + y)\r\n+                    .css({top: item.pageY+5, left: item.pageX+5})\r\n+                    .fadeIn(200);\r\n+            } else {\r\n+                $(\"#tooltip\").hide();\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    // Initial graph load\r\n+    updateGraph();\r\n+\r\n+    // Optional: Update graph data periodically\r\n+    setInterval(function() {\r\n+        updateGraph(); // Redraw the graph with potentially new data\r\n+    }, 10000); // Update every 10 seconds\r\n+});\r\n+</script>\r\n+<?php\r\n+\r\n+// Parse sequences and count types for each sequence\r\n+$typeCounts = [];\r\n+$scores = [];\r\n+\r\n+\r\n+// Convert PHP arrays to JavaScript arrays\r\n+$typeCountsJS = json_encode($typeCounts);\r\n+$scoresJS = json_encode($scores);\r\n+?>\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateScatterPlot() {\r\n+        \r\n+        // Simulated data; replace with AJAX call in production to fetch real-time data\r\n+        var scatterData = [\r\n+    {\r\n+        label: \"Matches vs Duration\",\r\n+        data: <?php echo json_encode($matches); ?>,\r\n+        points: { show: true },\r\n+        color: \"#00FF00\"\r\n+    }\r\n+];\r\n+\r\n+\r\n+        // Initialize the scatter plot\r\n+        $.plot(\"#scatter_plot\", scatterData, {\r\n+            series: {\r\n+                lines: { show: false },\r\n+                points: { show: true, radius: 3 }\r\n+            },\r\n+            grid: {\r\n+                hoverable: true,\r\n+                clickable: true,\r\n+                borderWidth: 1,\r\n+                borderColor: '#ccc'\r\n+            },\r\n+            xaxis: {\r\n+                tickDecimals: 0,\r\n+                tickSize: 1\r\n+            },\r\n+            yaxis: {\r\n+                min: 0\r\n+            }\r\n+        });\r\n+\r\n+        // Tooltips setup\r\n+        $('<div id=\"tooltip\"></div>').css({\r\n+            position: \"absolute\",\r\n+            display: \"none\",\r\n+            border: \"1px solid #fdd\",\r\n+            padding: \"2px\",\r\n+            \"background-color\": \"#fee\",\r\n+            opacity: 0.80\r\n+        }).appendTo(\"body\");\r\n+\r\n+        $(\"#scatter_plot\").bind(\"plothover\", function(event, pos, item) {\r\n+            if (item) {\r\n+                var x = item.datapoint[0].toFixed(2),\r\n+                    y = item.datapoint[1].toFixed(2);\r\n+\r\n+                $(\"#tooltip\").html(item.series.label + \" at \" + x + \": \" + y)\r\n+                    .css({top: item.pageY+5, left: item.pageX+5})\r\n+                    .fadeIn(200);\r\n+            } else {\r\n+                $(\"#tooltip\").hide();\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    // Initial chart load\r\n+    updateScatterPlot();\r\n+\r\n+    // Optional: Update chart data periodically\r\n+    setInterval(function() {\r\n+        updateScatterPlot(); // Redraw the graph with potentially new data\r\n+    }, 10000); // Update every 10 seconds, adjust timing as needed\r\n+});\r\n+</script>\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateHistogram(sequenceDurations) {\r\n+        var histogramData = [];\r\n+        var binSize = 10; // This value can be adjusted as needed for your histogram resolution\r\n+        var maxDuration = Math.max.apply(null, sequenceDurations);\r\n+        var numBins = Math.ceil(maxDuration / binSize);\r\n+        var bins = new Array(numBins).fill(0);\r\n+\r\n+        sequenceDurations.forEach(function(duration) {\r\n+            var binIndex = Math.floor(duration / binSize);\r\n+            bins[binIndex]++;\r\n+        });\r\n+\r\n+        bins.forEach(function(count, index) {\r\n+            if (count > 0) {\r\n+                histogramData.push([index * binSize + binSize / 2, count]); // Center the bar\r\n+            }\r\n+        });\r\n+\r\n+       // Inside your existing updateHistogram function\r\n+var options = {\r\n+    series: {\r\n+        bars: {\r\n+            show: true,\r\n+            align: 'center'\r\n+        }\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    xaxis: {\r\n+        tickSize: binSize,\r\n+        min: 0,\r\n+        max: maxDuration + binSize,\r\n+        label: \"Duration (units)\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        min: 0,\r\n+        label: \"Frequency\" // Label for the y-axis\r\n+    },\r\n+    legend: {\r\n+        show: true\r\n+    }\r\n+};\r\n+$.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8 } }], options);\r\n+\r\n+    }\r\n+\r\n+    // Dummy data for sequence durations\r\n+    var sequenceDurations = [5, 20, 15, 10, 35, 25, 30, 40, 45, 10, 20, 25, 30, 50, 55, 60, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];\r\n+\r\n+    // Call the update function to display the histogram\r\n+    updateHistogram(sequenceDurations);\r\n+});\r\n+</script>\r\n+<?php\r\n+// Assuming you have your scores in an associative array format\r\n+$sequenceScores = [\r\n+    'Sequence 1' => 87,\r\n+    'Sequence 2' => 92,\r\n+    'Sequence 3' => 75\r\n+];\r\n+\r\n+// Convert PHP array to JSON\r\n+$scoresJson = json_encode($sequenceScores);\r\n+?>\r\n+\r\n+<script>\r\n+var scoresData = <?php echo $scoresJson; ?>;\r\n+</script>\r\n+\r\n+<script>\r\n+document.addEventListener('DOMContentLoaded', function() {\r\n+    var ctx = document.getElementById('scoresChart').getContext('2d');\r\n+    var scoresChart = new Chart(ctx, {\r\n+        type: 'bar',\r\n+        data: {\r\n+            labels: Object.keys(scoresData), // Sequence names\r\n+            datasets: [{\r\n+                label: 'Scores',\r\n+                data: Object.values(scoresData), // Actual scores\r\n+                backgroundColor: [\r\n+                    'rgba(255, 99, 132, 0.2)',\r\n+                    'rgba(54, 162, 235, 0.2)',\r\n+                    'rgba(255, 206, 86, 0.2)'\r\n+                ],\r\n+                borderColor: [\r\n+                    'rgba(255, 99, 132, 1)',\r\n+                    'rgba(54, 162, 235, 1)',\r\n+                    'rgba(255, 206, 86, 1)'\r\n+                ],\r\n+                borderWidth: 1\r\n+            }]\r\n+        },\r\n+        options: {\r\n+            scales: {\r\n+                y: {\r\n+                    beginAtZero: true\r\n+                }\r\n+            },\r\n+            plugins: {\r\n+                legend: {\r\n+                    labels: {\r\n+                        // This more specific font property overrides the global property\r\n+                        font: {\r\n+                            size: 14\r\n+                        }\r\n+                    }\r\n+                }\r\n+            },\r\n+            // Set the background color here\r\n+            layout: {\r\n+                padding: {\r\n+                    left: 0,\r\n+                    right: 0,\r\n+                    top: 0,\r\n+                    bottom: 0\r\n+                }\r\n+            },\r\n+            backgroundColor: 'white' // Here's the key to setting the background color\r\n+        }\r\n+    });\r\n+});\r\n+</script>\r\n"
                },
                {
                    "date": 1713947933548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,606 @@\n+<?php\r\n+\r\n+// Define the sequence array\r\n+$sequence = [\r\n+    ['No Match', 'Sliding', ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match'],\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Sliding',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match', 'Match'\r\n+];\r\n+\r\n+// Initialize counters\r\n+$counts = [\r\n+    'Match' => 0,\r\n+    'No Match' => 0,\r\n+    'Sliding' => 0,\r\n+    'Duration Mismatch' => 0\r\n+];\r\n+\r\n+// Dummy durations and match counts\r\n+$durations = [];\r\n+$matches = [];\r\n+foreach ($sequence as $index => $item) {\r\n+    $durations[] = rand(1, 100);  // Random duration between 1 and 100\r\n+    if ($item === 'Match' || (is_array($item) && in_array('Pitch Match', $item))) {\r\n+        $matches[] = ['x' => $index, 'y' => $durations[$index]];\r\n+    }\r\n+}\r\n+\r\n+// Calculate counts\r\n+foreach ($sequence as $item) {\r\n+    if (is_array($item)) {\r\n+        $counts['Duration Mismatch']++;\r\n+    } elseif ($item === 'Match') {\r\n+        $counts['Match']++;\r\n+    } elseif ($item === 'No Match') {\r\n+        $counts['No Match']++;\r\n+    } elseif ($item === 'Sliding') {\r\n+        $counts['Sliding']++;\r\n+    }\r\n+}\r\n+\r\n+// Prepare data points for Flot\r\n+$dataPoints = [];\r\n+$currentMatches = 0;\r\n+foreach ($sequence as $index => $item) {\r\n+    if ($item === 'Match') {\r\n+        $currentMatches++;\r\n+    }\r\n+    $dataPoints[] = [$index, $currentMatches];\r\n+}\r\n+\r\n+// Initialize counters\r\n+$matchCount = 0;\r\n+$mismatchCount = 0;\r\n+\r\n+// Calculate counts\r\n+foreach ($sequence as $item) {\r\n+    if (is_array($item)) {\r\n+        // Assuming 'Pitch Match', 'Duration Mismatch' is a type of match for simplicity\r\n+        $matchCount++;\r\n+    } elseif ($item === 'Match') {\r\n+        $matchCount++;\r\n+    } elseif ($item === 'No Match') {\r\n+        $mismatchCount++;\r\n+    }\r\n+}\r\n+$matchCount = count(array_filter($sequence, function($item) {\r\n+    return $item === 'Match' || (is_array($item) && in_array('Pitch Match', $item));\r\n+}));\r\n+\r\n+// Data for Flot\r\n+$flotData = [\r\n+    [\"label\" => \"Matches\", \"data\" => $matchCount, \"color\" => \"#00FF00\"],\r\n+    [\"label\" => \"Mismatches\", \"data\" => $mismatchCount, \"color\" => \"#FF0000\"]\r\n+];\r\n+\r\n+$matches = array_map(function ($match) {\r\n+    return [$match['x'], $match['y']];\r\n+}, $matches);\r\n+\r\n+?>\r\n+<!-- BEGIN CONTENT -->\r\n+<div class=\"page-content-wrapper\">\r\n+    <div class=\"page-content\">\r\n+        <!-- BEGIN PAGE HEADER-->\r\n+        <div class=\"row\">\r\n+            <div class=\"col-md-12\">\r\n+                <!-- BEGIN PAGE TITLE & BREADCRUMB-->\r\n+                <h3 class=\"page-title\">\r\n+                    <?php echo lang('sub_set_optional'); ?>\r\n+                </h3>\r\n+                <ul class=\"page-breadcrumb breadcrumb\">\r\n+                    <li>\r\n+                        <i class=\"fa fa-home\"></i>Home\r\n+                    </li>\r\n+                    <li>\r\n+                        <?php echo lang('sub_song'); ?>\r\n+                    </li>\r\n+                    <li>\r\n+                        <?php echo lang('header_ass_opt_sub'); ?>\r\n+                    </li>\r\n+                    <li id=\"result\" class=\"pull-right topClock\"></li>\r\n+                </ul>\r\n+                <!-- END PAGE TITLE & BREADCRUMB-->\r\n+            </div>\r\n+        </div>\r\n+        <!-- END PAGE HEADER-->\r\n+\r\n+        <!-- BEGIN PAGE CONTENT-->\r\n+        <div class=\"row\">\r\n+            <!-- Bar Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-bar-chart\"></i> Bar Chart for Match Count\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"bar_chart\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Pie Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-pie-chart\"></i> Pie Chart for Match Distribution\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                    <canvas id=\"pie_chart\" style=\"max-width:400px; max-height:400px;\"></canvas>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Line Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-line-chart\"></i> Line Chart for Match Proportion Over Time\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"line_chart\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Stacked Bar Chart Placeholder -->\r\n+          \r\n+\r\n+              <!--  Bar Chart Placeholder -->\r\n+             <!-- Bar Chart Placeholder -->\r\n+                <div class=\"col-md-12\">\r\n+                    <div class=\"portlet box purple\" style=\"background-color: white;\">\r\n+                        <div class=\"portlet-title\">\r\n+                            <div class=\"caption\">\r\n+                                <i class=\"fa fa-bars\"></i> Bar Chart for scores across sequences\r\n+                            </div>\r\n+                        </div>\r\n+                        <div class=\"portlet-body\">\r\n+                            <canvas id=\"scoresChart\"></canvas>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+\r\n+            <!-- Scatter Plot Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box blue\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-scatter-plot\"></i> Scatter Plot for Matches vs. Duration\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"scatter_plot\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box blue\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-scatter-plot\"></i> Histogram Plot for Sequence Duration\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                    <div id=\"histogram\" style=\"width:600px;height:300px;\"></div>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+\r\n+        </div>\r\n+        <!-- END PAGE CONTENT-->\r\n+    </div>\r\n+</div>\r\n+<!-- END CONTENT -->\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/jquery\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/jquery.flot\"></script>\r\n+<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flot/4.2.6/jquery.flot.categories.min.js\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<canvas id=\"pie_chart\"></canvas>\r\n+\r\n+\r\n+\r\n+\r\n+<script>  \r\n+ function updateBarChart() {\r\n+    var barData = [\r\n+    {\r\n+        label: \"Match\",\r\n+        data: [ [1, <?php echo $counts['Match']; ?>] ],\r\n+        color: \"#8A2BE2\"  // A shade of purple\r\n+    },\r\n+    {\r\n+        label: \"No Match\",\r\n+        data: [ [2, <?php echo $counts['No Match']; ?>] ],\r\n+        color: \"#DA70D6\"  // Another shade of purple\r\n+    },\r\n+    {\r\n+        label: \"Sliding\",\r\n+        data: [ [3, <?php echo $counts['Sliding']; ?>] ],\r\n+        color: \"#9370DB\"  // Another shade of purple\r\n+    },\r\n+    {\r\n+        label: \"Duration Mismatch\",\r\n+        data: [ [4, <?php echo $counts['Duration Mismatch']; ?>] ],\r\n+        color: \"#D8BFD8\"  // Another shade of purple\r\n+    }\r\n+];\r\n+\r\n+var options = {\r\n+    series: {\r\n+        bars: {\r\n+            show: true,\r\n+            barWidth: 0.5,\r\n+            align: 'center'\r\n+        }\r\n+    },\r\n+    xaxis: {\r\n+        mode: 'categories',\r\n+        tickLength: 0,\r\n+        label: \"Types\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        label: \"Count\" // Label for the y-axis\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        clickable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    legend: {\r\n+        show: true,\r\n+        position: \"ne\" // Legend at the top right corner\r\n+    }\r\n+};\r\n+\r\n+$.plot('#bar_chart', barData, options);\r\n+\r\n+}\r\n+\r\n+$(document).ready(function() {\r\n+    updateBarChart(); // This calls the function after the document is ready\r\n+});\r\n+\r\n+</script>\r\n+<script>\r\n+jQuery(document).ready(function() {\r\n+    function updatePieChart() {\r\n+        var data = {\r\n+    labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n+    datasets: [{\r\n+        data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n+        backgroundColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'], // Shades of purple\r\n+        borderColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'],\r\n+        borderWidth: 1\r\n+    }]\r\n+};\r\n+\r\n+        var ctx = document.getElementById('pie_chart').getContext('2d');\r\n+        var pieChart = new Chart(ctx, {\r\n+    type: 'pie',\r\n+    data: data,\r\n+    options: {\r\n+        responsive: true,\r\n+        legend: {\r\n+            position: 'top',\r\n+        },\r\n+        title: {\r\n+            display: true,\r\n+            text: 'Match Distribution'\r\n+        },\r\n+        tooltips: { // Enabling tooltips\r\n+            enabled: true\r\n+        },\r\n+        animation: {\r\n+            animateScale: true,\r\n+            animateRotate: true\r\n+        }\r\n+    }\r\n+});\r\n+    }\r\n+    updatePieChart();\r\n+});\r\n+</script>\r\n+\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateGraph() {\r\n+        // Fetch new data periodically (simulation here; replace with AJAX call in production)\r\n+        var data = <?php echo json_encode([$dataPoints]); ?>;\r\n+\r\n+     // Inside your existing updateGraph function\r\n+var options = {\r\n+    series: {\r\n+        lines: {\r\n+            show: true,\r\n+            fill: true\r\n+        },\r\n+        points: {\r\n+            show: true\r\n+        }\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        clickable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    xaxis: {\r\n+        tickDecimals: 0,\r\n+        tickSize: 1,\r\n+        label: \"Time\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        min: 0,\r\n+        tickSize: 1,\r\n+        label: \"Matches\" // Label for the y-axis\r\n+    },\r\n+    legend: {\r\n+        show: true\r\n+    }\r\n+};\r\n+$.plot(\"#line_chart\", data, options);\r\n+\r\n+\r\n+        // Tooltips setup\r\n+        $('<div id=\"tooltip\"></div>').css({\r\n+            position: \"absolute\",\r\n+            display: \"none\",\r\n+            border: \"1px solid #fdd\",\r\n+            padding: \"2px\",\r\n+            \"background-color\": \"#fee\",\r\n+            opacity: 0.80\r\n+        }).appendTo(\"body\");\r\n+\r\n+        $(\"#matchTimeGraph\").bind(\"plothover\", function (event, pos, item) {\r\n+            if (item) {\r\n+                var x = item.datapoint[0].toFixed(2),\r\n+                    y = item.datapoint[1].toFixed(2);\r\n+\r\n+                $(\"#tooltip\").html(\"Match at \" + x + \": \" + y)\r\n+                    .css({top: item.pageY+5, left: item.pageX+5})\r\n+                    .fadeIn(200);\r\n+            } else {\r\n+                $(\"#tooltip\").hide();\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    // Initial graph load\r\n+    updateGraph();\r\n+\r\n+    // Optional: Update graph data periodically\r\n+    setInterval(function() {\r\n+        updateGraph(); // Redraw the graph with potentially new data\r\n+    }, 10000); // Update every 10 seconds\r\n+});\r\n+</script>\r\n+<?php\r\n+\r\n+// Parse sequences and count types for each sequence\r\n+$typeCounts = [];\r\n+$scores = [];\r\n+\r\n+\r\n+// Convert PHP arrays to JavaScript arrays\r\n+$typeCountsJS = json_encode($typeCounts);\r\n+$scoresJS = json_encode($scores);\r\n+?>\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateScatterPlot() {\r\n+        \r\n+        // Simulated data; replace with AJAX call in production to fetch real-time data\r\n+        var scatterData = [\r\n+    {\r\n+        label: \"Matches vs Duration\",\r\n+        data: <?php echo json_encode($matches); ?>,\r\n+        points: { show: true },\r\n+        color: \"#00FF00\"\r\n+    }\r\n+];\r\n+\r\n+\r\n+        // Initialize the scatter plot\r\n+        $.plot(\"#scatter_plot\", scatterData, {\r\n+            series: {\r\n+                lines: { show: false },\r\n+                points: { show: true, radius: 3 }\r\n+            },\r\n+            grid: {\r\n+                hoverable: true,\r\n+                clickable: true,\r\n+                borderWidth: 1,\r\n+                borderColor: '#ccc'\r\n+            },\r\n+            xaxis: {\r\n+                tickDecimals: 0,\r\n+                tickSize: 1\r\n+            },\r\n+            yaxis: {\r\n+                min: 0\r\n+            }\r\n+        });\r\n+\r\n+        // Tooltips setup\r\n+        $('<div id=\"tooltip\"></div>').css({\r\n+            position: \"absolute\",\r\n+            display: \"none\",\r\n+            border: \"1px solid #fdd\",\r\n+            padding: \"2px\",\r\n+            \"background-color\": \"#fee\",\r\n+            opacity: 0.80\r\n+        }).appendTo(\"body\");\r\n+\r\n+        $(\"#scatter_plot\").bind(\"plothover\", function(event, pos, item) {\r\n+            if (item) {\r\n+                var x = item.datapoint[0].toFixed(2),\r\n+                    y = item.datapoint[1].toFixed(2);\r\n+\r\n+                $(\"#tooltip\").html(item.series.label + \" at \" + x + \": \" + y)\r\n+                    .css({top: item.pageY+5, left: item.pageX+5})\r\n+                    .fadeIn(200);\r\n+            } else {\r\n+                $(\"#tooltip\").hide();\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    // Initial chart load\r\n+    updateScatterPlot();\r\n+\r\n+    // Optional: Update chart data periodically\r\n+    setInterval(function() {\r\n+        updateScatterPlot(); // Redraw the graph with potentially new data\r\n+    }, 10000); // Update every 10 seconds, adjust timing as needed\r\n+});\r\n+</script>\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateHistogram(sequenceDurations) {\r\n+        var histogramData = [];\r\n+        var binSize = 10; // This value can be adjusted as needed for your histogram resolution\r\n+        var maxDuration = Math.max.apply(null, sequenceDurations);\r\n+        var numBins = Math.ceil(maxDuration / binSize);\r\n+        var bins = new Array(numBins).fill(0);\r\n+\r\n+        sequenceDurations.forEach(function(duration) {\r\n+            var binIndex = Math.floor(duration / binSize);\r\n+            bins[binIndex]++;\r\n+        });\r\n+\r\n+        bins.forEach(function(count, index) {\r\n+            if (count > 0) {\r\n+                histogramData.push([index * binSize + binSize / 2, count]); // Center the bar\r\n+            }\r\n+        });\r\n+\r\n+       // Inside your existing updateHistogram function\r\n+var options = {\r\n+    series: {\r\n+        bars: {\r\n+            show: true,\r\n+            align: 'center'\r\n+        }\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    xaxis: {\r\n+        tickSize: binSize,\r\n+        min: 0,\r\n+        max: maxDuration + binSize,\r\n+        label: \"Duration (units)\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        min: 0,\r\n+        label: \"Frequency\" // Label for the y-axis\r\n+    },\r\n+    legend: {\r\n+        show: true\r\n+    }\r\n+};\r\n+$.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8 } }], options);\r\n+\r\n+    }\r\n+\r\n+    // Dummy data for sequence durations\r\n+    var sequenceDurations = [5, 20, 15, 10, 35, 25, 30, 40, 45, 10, 20, 25, 30, 50, 55, 60, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];\r\n+\r\n+    // Call the update function to display the histogram\r\n+    updateHistogram(sequenceDurations);\r\n+});\r\n+</script>\r\n+<?php\r\n+// Assuming you have your scores in an associative array format\r\n+$sequenceScores = [\r\n+    'Sequence 1' => 87,\r\n+    'Sequence 2' => 92,\r\n+    'Sequence 3' => 75\r\n+];\r\n+\r\n+// Convert PHP array to JSON\r\n+$scoresJson = json_encode($sequenceScores);\r\n+?>\r\n+\r\n+<script>\r\n+var scoresData = <?php echo $scoresJson; ?>;\r\n+</script>\r\n+\r\n+<script>\r\n+document.addEventListener('DOMContentLoaded', function() {\r\n+    var ctx = document.getElementById('scoresChart').getContext('2d');\r\n+    var scoresChart = new Chart(ctx, {\r\n+        type: 'bar',\r\n+        data: {\r\n+            labels: Object.keys(scoresData), // Sequence names\r\n+            datasets: [{\r\n+                label: 'Scores',\r\n+                data: Object.values(scoresData), // Actual scores\r\n+                backgroundColor: [\r\n+                    'rgba(255, 99, 132, 0.2)',\r\n+                    'rgba(54, 162, 235, 0.2)',\r\n+                    'rgba(255, 206, 86, 0.2)'\r\n+                ],\r\n+                borderColor: [\r\n+                    'rgba(255, 99, 132, 1)',\r\n+                    'rgba(54, 162, 235, 1)',\r\n+                    'rgba(255, 206, 86, 1)'\r\n+                ],\r\n+                borderWidth: 1\r\n+            }]\r\n+        },\r\n+        options: {\r\n+            scales: {\r\n+                y: {\r\n+                    beginAtZero: true\r\n+                }\r\n+            },\r\n+            plugins: {\r\n+                legend: {\r\n+                    labels: {\r\n+                        // This more specific font property overrides the global property\r\n+                        font: {\r\n+                            size: 14\r\n+                        }\r\n+                    }\r\n+                }\r\n+            },\r\n+            // Set the background color here\r\n+            layout: {\r\n+                padding: {\r\n+                    left: 0,\r\n+                    right: 0,\r\n+                    top: 0,\r\n+                    bottom: 0\r\n+                }\r\n+            },\r\n+            backgroundColor: 'white' // Here's the key to setting the background color\r\n+        }\r\n+    });\r\n+});\r\n+</script>\r\n"
                },
                {
                    "date": 1713947963900,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -323,10 +323,18 @@\n <script type=\"text/javascript\">\r\n jQuery(document).ready(function() {\r\n     function updateGraph() {\r\n         // Fetch new data periodically (simulation here; replace with AJAX call in production)\r\n-        var data = <?php echo json_encode([$dataPoints]); ?>;\r\n+        var data = [\r\n+    {\r\n+        label: \"Match Count Over Time\",\r\n+        data: <?php echo json_encode($dataPoints); ?>,\r\n+        lines: { show: true, fill: false },\r\n+        color: \"#8A2BE2\"  // Purple color\r\n+    }\r\n+];\r\n \r\n+\r\n      // Inside your existing updateGraph function\r\n var options = {\r\n     series: {\r\n         lines: {\r\n"
                },
                {
                    "date": 1713947978057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -425,618 +425,14 @@\n     {\r\n         label: \"Matches vs Duration\",\r\n         data: <?php echo json_encode($matches); ?>,\r\n         points: { show: true },\r\n-        color: \"#00FF00\"\r\n+        color: \"#9370DB\"  // Purple color\r\n     }\r\n ];\r\n \r\n \r\n-        // Initialize the scatter plot\r\n-        $.plot(\"#scatter_plot\", scatterData, {\r\n-            series: {\r\n-                lines: { show: false },\r\n-                points: { show: true, radius: 3 }\r\n-            },\r\n-            grid: {\r\n-                hoverable: true,\r\n-                clickable: true,\r\n-                borderWidth: 1,\r\n-                borderColor: '#ccc'\r\n-            },\r\n-            xaxis: {\r\n-                tickDecimals: 0,\r\n-                tickSize: 1\r\n-            },\r\n-            yaxis: {\r\n-                min: 0\r\n-            }\r\n-        });\r\n \r\n-        // Tooltips setup\r\n-        $('<div id=\"tooltip\"></div>').css({\r\n-            position: \"absolute\",\r\n-            display: \"none\",\r\n-            border: \"1px solid #fdd\",\r\n-            padding: \"2px\",\r\n-            \"background-color\": \"#fee\",\r\n-            opacity: 0.80\r\n-        }).appendTo(\"body\");\r\n-\r\n-        $(\"#scatter_plot\").bind(\"plothover\", function(event, pos, item) {\r\n-            if (item) {\r\n-                var x = item.datapoint[0].toFixed(2),\r\n-                    y = item.datapoint[1].toFixed(2);\r\n-\r\n-                $(\"#tooltip\").html(item.series.label + \" at \" + x + \": \" + y)\r\n-                    .css({top: item.pageY+5, left: item.pageX+5})\r\n-                    .fadeIn(200);\r\n-            } else {\r\n-                $(\"#tooltip\").hide();\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    // Initial chart load\r\n-    updateScatterPlot();\r\n-\r\n-    // Optional: Update chart data periodically\r\n-    setInterval(function() {\r\n-        updateScatterPlot(); // Redraw the graph with potentially new data\r\n-    }, 10000); // Update every 10 seconds, adjust timing as needed\r\n-});\r\n-</script>\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateHistogram(sequenceDurations) {\r\n-        var histogramData = [];\r\n-        var binSize = 10; // This value can be adjusted as needed for your histogram resolution\r\n-        var maxDuration = Math.max.apply(null, sequenceDurations);\r\n-        var numBins = Math.ceil(maxDuration / binSize);\r\n-        var bins = new Array(numBins).fill(0);\r\n-\r\n-        sequenceDurations.forEach(function(duration) {\r\n-            var binIndex = Math.floor(duration / binSize);\r\n-            bins[binIndex]++;\r\n-        });\r\n-\r\n-        bins.forEach(function(count, index) {\r\n-            if (count > 0) {\r\n-                histogramData.push([index * binSize + binSize / 2, count]); // Center the bar\r\n-            }\r\n-        });\r\n-\r\n-       // Inside your existing updateHistogram function\r\n-var options = {\r\n-    series: {\r\n-        bars: {\r\n-            show: true,\r\n-            align: 'center'\r\n-        }\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    xaxis: {\r\n-        tickSize: binSize,\r\n-        min: 0,\r\n-        max: maxDuration + binSize,\r\n-        label: \"Duration (units)\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        min: 0,\r\n-        label: \"Frequency\" // Label for the y-axis\r\n-    },\r\n-    legend: {\r\n-        show: true\r\n-    }\r\n-};\r\n-$.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8 } }], options);\r\n-\r\n-    }\r\n-\r\n-    // Dummy data for sequence durations\r\n-    var sequenceDurations = [5, 20, 15, 10, 35, 25, 30, 40, 45, 10, 20, 25, 30, 50, 55, 60, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];\r\n-\r\n-    // Call the update function to display the histogram\r\n-    updateHistogram(sequenceDurations);\r\n-});\r\n-</script>\r\n-<?php\r\n-// Assuming you have your scores in an associative array format\r\n-$sequenceScores = [\r\n-    'Sequence 1' => 87,\r\n-    'Sequence 2' => 92,\r\n-    'Sequence 3' => 75\r\n-];\r\n-\r\n-// Convert PHP array to JSON\r\n-$scoresJson = json_encode($sequenceScores);\r\n-?>\r\n-\r\n-<script>\r\n-var scoresData = <?php echo $scoresJson; ?>;\r\n-</script>\r\n-\r\n-<script>\r\n-document.addEventListener('DOMContentLoaded', function() {\r\n-    var ctx = document.getElementById('scoresChart').getContext('2d');\r\n-    var scoresChart = new Chart(ctx, {\r\n-        type: 'bar',\r\n-        data: {\r\n-            labels: Object.keys(scoresData), // Sequence names\r\n-            datasets: [{\r\n-                label: 'Scores',\r\n-                data: Object.values(scoresData), // Actual scores\r\n-                backgroundColor: [\r\n-                    'rgba(255, 99, 132, 0.2)',\r\n-                    'rgba(54, 162, 235, 0.2)',\r\n-                    'rgba(255, 206, 86, 0.2)'\r\n-                ],\r\n-                borderColor: [\r\n-                    'rgba(255, 99, 132, 1)',\r\n-                    'rgba(54, 162, 235, 1)',\r\n-                    'rgba(255, 206, 86, 1)'\r\n-                ],\r\n-                borderWidth: 1\r\n-            }]\r\n-        },\r\n-        options: {\r\n-            scales: {\r\n-                y: {\r\n-                    beginAtZero: true\r\n-                }\r\n-            },\r\n-            plugins: {\r\n-                legend: {\r\n-                    labels: {\r\n-                        // This more specific font property overrides the global property\r\n-                        font: {\r\n-                            size: 14\r\n-                        }\r\n-                    }\r\n-                }\r\n-            },\r\n-            // Set the background color here\r\n-            layout: {\r\n-                padding: {\r\n-                    left: 0,\r\n-                    right: 0,\r\n-                    top: 0,\r\n-                    bottom: 0\r\n-                }\r\n-            },\r\n-            backgroundColor: 'white' // Here's the key to setting the background color\r\n-        }\r\n-    });\r\n-});\r\n-</script>\r\n-<?php\r\n-\r\n-// Define the sequence array\r\n-$sequence = [\r\n-    ['No Match', 'Sliding', ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match'],\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Sliding',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match', 'Match'\r\n-];\r\n-\r\n-// Initialize counters\r\n-$counts = [\r\n-    'Match' => 0,\r\n-    'No Match' => 0,\r\n-    'Sliding' => 0,\r\n-    'Duration Mismatch' => 0\r\n-];\r\n-\r\n-// Dummy durations and match counts\r\n-$durations = [];\r\n-$matches = [];\r\n-foreach ($sequence as $index => $item) {\r\n-    $durations[] = rand(1, 100);  // Random duration between 1 and 100\r\n-    if ($item === 'Match' || (is_array($item) && in_array('Pitch Match', $item))) {\r\n-        $matches[] = ['x' => $index, 'y' => $durations[$index]];\r\n-    }\r\n-}\r\n-\r\n-// Calculate counts\r\n-foreach ($sequence as $item) {\r\n-    if (is_array($item)) {\r\n-        $counts['Duration Mismatch']++;\r\n-    } elseif ($item === 'Match') {\r\n-        $counts['Match']++;\r\n-    } elseif ($item === 'No Match') {\r\n-        $counts['No Match']++;\r\n-    } elseif ($item === 'Sliding') {\r\n-        $counts['Sliding']++;\r\n-    }\r\n-}\r\n-\r\n-// Prepare data points for Flot\r\n-$dataPoints = [];\r\n-$currentMatches = 0;\r\n-foreach ($sequence as $index => $item) {\r\n-    if ($item === 'Match') {\r\n-        $currentMatches++;\r\n-    }\r\n-    $dataPoints[] = [$index, $currentMatches];\r\n-}\r\n-\r\n-// Initialize counters\r\n-$matchCount = 0;\r\n-$mismatchCount = 0;\r\n-\r\n-// Calculate counts\r\n-foreach ($sequence as $item) {\r\n-    if (is_array($item)) {\r\n-        // Assuming 'Pitch Match', 'Duration Mismatch' is a type of match for simplicity\r\n-        $matchCount++;\r\n-    } elseif ($item === 'Match') {\r\n-        $matchCount++;\r\n-    } elseif ($item === 'No Match') {\r\n-        $mismatchCount++;\r\n-    }\r\n-}\r\n-$matchCount = count(array_filter($sequence, function($item) {\r\n-    return $item === 'Match' || (is_array($item) && in_array('Pitch Match', $item));\r\n-}));\r\n-\r\n-// Data for Flot\r\n-$flotData = [\r\n-    [\"label\" => \"Matches\", \"data\" => $matchCount, \"color\" => \"#00FF00\"],\r\n-    [\"label\" => \"Mismatches\", \"data\" => $mismatchCount, \"color\" => \"#FF0000\"]\r\n-];\r\n-\r\n-$matches = array_map(function ($match) {\r\n-    return [$match['x'], $match['y']];\r\n-}, $matches);\r\n-\r\n-?>\r\n-<!-- BEGIN CONTENT -->\r\n-<div class=\"page-content-wrapper\">\r\n-    <div class=\"page-content\">\r\n-        <!-- BEGIN PAGE HEADER-->\r\n-        <div class=\"row\">\r\n-            <div class=\"col-md-12\">\r\n-                <!-- BEGIN PAGE TITLE & BREADCRUMB-->\r\n-                <h3 class=\"page-title\">\r\n-                    <?php echo lang('sub_set_optional'); ?>\r\n-                </h3>\r\n-                <ul class=\"page-breadcrumb breadcrumb\">\r\n-                    <li>\r\n-                        <i class=\"fa fa-home\"></i>Home\r\n-                    </li>\r\n-                    <li>\r\n-                        <?php echo lang('sub_song'); ?>\r\n-                    </li>\r\n-                    <li>\r\n-                        <?php echo lang('header_ass_opt_sub'); ?>\r\n-                    </li>\r\n-                    <li id=\"result\" class=\"pull-right topClock\"></li>\r\n-                </ul>\r\n-                <!-- END PAGE TITLE & BREADCRUMB-->\r\n-            </div>\r\n-        </div>\r\n-        <!-- END PAGE HEADER-->\r\n-\r\n-        <!-- BEGIN PAGE CONTENT-->\r\n-        <div class=\"row\">\r\n-            <!-- Bar Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-bar-chart\"></i> Bar Chart for Match Count\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"bar_chart\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Pie Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-pie-chart\"></i> Pie Chart for Match Distribution\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                    <canvas id=\"pie_chart\" style=\"max-width:400px; max-height:400px;\"></canvas>\r\n-\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Line Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-line-chart\"></i> Line Chart for Match Proportion Over Time\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"line_chart\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Stacked Bar Chart Placeholder -->\r\n-          \r\n-\r\n-              <!--  Bar Chart Placeholder -->\r\n-             <!-- Bar Chart Placeholder -->\r\n-                <div class=\"col-md-12\">\r\n-                    <div class=\"portlet box purple\" style=\"background-color: white;\">\r\n-                        <div class=\"portlet-title\">\r\n-                            <div class=\"caption\">\r\n-                                <i class=\"fa fa-bars\"></i> Bar Chart for scores across sequences\r\n-                            </div>\r\n-                        </div>\r\n-                        <div class=\"portlet-body\">\r\n-                            <canvas id=\"scoresChart\"></canvas>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>\r\n-\r\n-\r\n-            <!-- Scatter Plot Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box blue\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-scatter-plot\"></i> Scatter Plot for Matches vs. Duration\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"scatter_plot\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box blue\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-scatter-plot\"></i> Histogram Plot for Sequence Duration\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                    <div id=\"histogram\" style=\"width:600px;height:300px;\"></div>\r\n-\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-\r\n-        </div>\r\n-        <!-- END PAGE CONTENT-->\r\n-    </div>\r\n-</div>\r\n-<!-- END CONTENT -->\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/jquery\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/jquery.flot\"></script>\r\n-<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flot/4.2.6/jquery.flot.categories.min.js\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<canvas id=\"pie_chart\"></canvas>\r\n-\r\n-\r\n-\r\n-\r\n-<script>  \r\n- function updateBarChart() {\r\n-    var barData = [\r\n-    {\r\n-        label: \"Match\",\r\n-        data: [ [1, <?php echo $counts['Match']; ?>] ],\r\n-        color: \"#8A2BE2\"  // A shade of purple\r\n-    },\r\n-    {\r\n-        label: \"No Match\",\r\n-        data: [ [2, <?php echo $counts['No Match']; ?>] ],\r\n-        color: \"#DA70D6\"  // Another shade of purple\r\n-    },\r\n-    {\r\n-        label: \"Sliding\",\r\n-        data: [ [3, <?php echo $counts['Sliding']; ?>] ],\r\n-        color: \"#9370DB\"  // Another shade of purple\r\n-    },\r\n-    {\r\n-        label: \"Duration Mismatch\",\r\n-        data: [ [4, <?php echo $counts['Duration Mismatch']; ?>] ],\r\n-        color: \"#D8BFD8\"  // Another shade of purple\r\n-    }\r\n-];\r\n-\r\n-var options = {\r\n-    series: {\r\n-        bars: {\r\n-            show: true,\r\n-            barWidth: 0.5,\r\n-            align: 'center'\r\n-        }\r\n-    },\r\n-    xaxis: {\r\n-        mode: 'categories',\r\n-        tickLength: 0,\r\n-        label: \"Types\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        label: \"Count\" // Label for the y-axis\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        clickable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    legend: {\r\n-        show: true,\r\n-        position: \"ne\" // Legend at the top right corner\r\n-    }\r\n-};\r\n-\r\n-$.plot('#bar_chart', barData, options);\r\n-\r\n-}\r\n-\r\n-$(document).ready(function() {\r\n-    updateBarChart(); // This calls the function after the document is ready\r\n-});\r\n-\r\n-</script>\r\n-<script>\r\n-jQuery(document).ready(function() {\r\n-    function updatePieChart() {\r\n-        var data = {\r\n-            labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n-            datasets: [{\r\n-                data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n-                backgroundColor: ['rgba(255, 99, 132, 0.8)', 'rgba(54, 162, 235, 0.8)', 'rgba(255, 206, 86, 0.8)', 'rgba(75, 192, 192, 0.8)'],\r\n-                borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)'],\r\n-                borderWidth: 1\r\n-            }]\r\n-        };\r\n-        var ctx = document.getElementById('pie_chart').getContext('2d');\r\n-        var pieChart = new Chart(ctx, {\r\n-    type: 'pie',\r\n-    data: data,\r\n-    options: {\r\n-        responsive: true,\r\n-        legend: {\r\n-            position: 'top',\r\n-        },\r\n-        title: {\r\n-            display: true,\r\n-            text: 'Match Distribution'\r\n-        },\r\n-        tooltips: { // Enabling tooltips\r\n-            enabled: true\r\n-        },\r\n-        animation: {\r\n-            animateScale: true,\r\n-            animateRotate: true\r\n-        }\r\n-    }\r\n-});\r\n-    }\r\n-    updatePieChart();\r\n-});\r\n-</script>\r\n-\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateGraph() {\r\n-        // Fetch new data periodically (simulation here; replace with AJAX call in production)\r\n-        var data = <?php echo json_encode([$dataPoints]); ?>;\r\n-\r\n-     // Inside your existing updateGraph function\r\n-var options = {\r\n-    series: {\r\n-        lines: {\r\n-            show: true,\r\n-            fill: true\r\n-        },\r\n-        points: {\r\n-            show: true\r\n-        }\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        clickable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    xaxis: {\r\n-        tickDecimals: 0,\r\n-        tickSize: 1,\r\n-        label: \"Time\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        min: 0,\r\n-        tickSize: 1,\r\n-        label: \"Matches\" // Label for the y-axis\r\n-    },\r\n-    legend: {\r\n-        show: true\r\n-    }\r\n-};\r\n-$.plot(\"#line_chart\", data, options);\r\n-\r\n-\r\n-        // Tooltips setup\r\n-        $('<div id=\"tooltip\"></div>').css({\r\n-            position: \"absolute\",\r\n-            display: \"none\",\r\n-            border: \"1px solid #fdd\",\r\n-            padding: \"2px\",\r\n-            \"background-color\": \"#fee\",\r\n-            opacity: 0.80\r\n-        }).appendTo(\"body\");\r\n-\r\n-        $(\"#matchTimeGraph\").bind(\"plothover\", function (event, pos, item) {\r\n-            if (item) {\r\n-                var x = item.datapoint[0].toFixed(2),\r\n-                    y = item.datapoint[1].toFixed(2);\r\n-\r\n-                $(\"#tooltip\").html(\"Match at \" + x + \": \" + y)\r\n-                    .css({top: item.pageY+5, left: item.pageX+5})\r\n-                    .fadeIn(200);\r\n-            } else {\r\n-                $(\"#tooltip\").hide();\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    // Initial graph load\r\n-    updateGraph();\r\n-\r\n-    // Optional: Update graph data periodically\r\n-    setInterval(function() {\r\n-        updateGraph(); // Redraw the graph with potentially new data\r\n-    }, 10000); // Update every 10 seconds\r\n-});\r\n-</script>\r\n-<?php\r\n-\r\n-// Parse sequences and count types for each sequence\r\n-$typeCounts = [];\r\n-$scores = [];\r\n-\r\n-\r\n-// Convert PHP arrays to JavaScript arrays\r\n-$typeCountsJS = json_encode($typeCounts);\r\n-$scoresJS = json_encode($scores);\r\n-?>\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateScatterPlot() {\r\n-        \r\n-        // Simulated data; replace with AJAX call in production to fetch real-time data\r\n-        var scatterData = [\r\n-    {\r\n-        label: \"Matches vs Duration\",\r\n-        data: <?php echo json_encode($matches); ?>,\r\n-        points: { show: true },\r\n-        color: \"#00FF00\"\r\n-    }\r\n-];\r\n-\r\n-\r\n         // Initialize the scatter plot\r\n         $.plot(\"#scatter_plot\", scatterData, {\r\n             series: {\r\n                 lines: { show: false },\r\n@@ -1216,608 +612,4 @@\n         }\r\n     });\r\n });\r\n </script>\r\n-<?php\r\n-\r\n-// Define the sequence array\r\n-$sequence = [\r\n-    ['No Match', 'Sliding', ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match'],\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Sliding',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match', 'Match'\r\n-];\r\n-\r\n-// Initialize counters\r\n-$counts = [\r\n-    'Match' => 0,\r\n-    'No Match' => 0,\r\n-    'Sliding' => 0,\r\n-    'Duration Mismatch' => 0\r\n-];\r\n-\r\n-// Dummy durations and match counts\r\n-$durations = [];\r\n-$matches = [];\r\n-foreach ($sequence as $index => $item) {\r\n-    $durations[] = rand(1, 100);  // Random duration between 1 and 100\r\n-    if ($item === 'Match' || (is_array($item) && in_array('Pitch Match', $item))) {\r\n-        $matches[] = ['x' => $index, 'y' => $durations[$index]];\r\n-    }\r\n-}\r\n-\r\n-// Calculate counts\r\n-foreach ($sequence as $item) {\r\n-    if (is_array($item)) {\r\n-        $counts['Duration Mismatch']++;\r\n-    } elseif ($item === 'Match') {\r\n-        $counts['Match']++;\r\n-    } elseif ($item === 'No Match') {\r\n-        $counts['No Match']++;\r\n-    } elseif ($item === 'Sliding') {\r\n-        $counts['Sliding']++;\r\n-    }\r\n-}\r\n-\r\n-// Prepare data points for Flot\r\n-$dataPoints = [];\r\n-$currentMatches = 0;\r\n-foreach ($sequence as $index => $item) {\r\n-    if ($item === 'Match') {\r\n-        $currentMatches++;\r\n-    }\r\n-    $dataPoints[] = [$index, $currentMatches];\r\n-}\r\n-\r\n-// Initialize counters\r\n-$matchCount = 0;\r\n-$mismatchCount = 0;\r\n-\r\n-// Calculate counts\r\n-foreach ($sequence as $item) {\r\n-    if (is_array($item)) {\r\n-        // Assuming 'Pitch Match', 'Duration Mismatch' is a type of match for simplicity\r\n-        $matchCount++;\r\n-    } elseif ($item === 'Match') {\r\n-        $matchCount++;\r\n-    } elseif ($item === 'No Match') {\r\n-        $mismatchCount++;\r\n-    }\r\n-}\r\n-$matchCount = count(array_filter($sequence, function($item) {\r\n-    return $item === 'Match' || (is_array($item) && in_array('Pitch Match', $item));\r\n-}));\r\n-\r\n-// Data for Flot\r\n-$flotData = [\r\n-    [\"label\" => \"Matches\", \"data\" => $matchCount, \"color\" => \"#00FF00\"],\r\n-    [\"label\" => \"Mismatches\", \"data\" => $mismatchCount, \"color\" => \"#FF0000\"]\r\n-];\r\n-\r\n-$matches = array_map(function ($match) {\r\n-    return [$match['x'], $match['y']];\r\n-}, $matches);\r\n-\r\n-?>\r\n-<!-- BEGIN CONTENT -->\r\n-<div class=\"page-content-wrapper\">\r\n-    <div class=\"page-content\">\r\n-        <!-- BEGIN PAGE HEADER-->\r\n-        <div class=\"row\">\r\n-            <div class=\"col-md-12\">\r\n-                <!-- BEGIN PAGE TITLE & BREADCRUMB-->\r\n-                <h3 class=\"page-title\">\r\n-                    <?php echo lang('sub_set_optional'); ?>\r\n-                </h3>\r\n-                <ul class=\"page-breadcrumb breadcrumb\">\r\n-                    <li>\r\n-                        <i class=\"fa fa-home\"></i>Home\r\n-                    </li>\r\n-                    <li>\r\n-                        <?php echo lang('sub_song'); ?>\r\n-                    </li>\r\n-                    <li>\r\n-                        <?php echo lang('header_ass_opt_sub'); ?>\r\n-                    </li>\r\n-                    <li id=\"result\" class=\"pull-right topClock\"></li>\r\n-                </ul>\r\n-                <!-- END PAGE TITLE & BREADCRUMB-->\r\n-            </div>\r\n-        </div>\r\n-        <!-- END PAGE HEADER-->\r\n-\r\n-        <!-- BEGIN PAGE CONTENT-->\r\n-        <div class=\"row\">\r\n-            <!-- Bar Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-bar-chart\"></i> Bar Chart for Match Count\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"bar_chart\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Pie Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-pie-chart\"></i> Pie Chart for Match Distribution\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                    <canvas id=\"pie_chart\" style=\"max-width:400px; max-height:400px;\"></canvas>\r\n-\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Line Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-line-chart\"></i> Line Chart for Match Proportion Over Time\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"line_chart\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Stacked Bar Chart Placeholder -->\r\n-          \r\n-\r\n-              <!--  Bar Chart Placeholder -->\r\n-             <!-- Bar Chart Placeholder -->\r\n-                <div class=\"col-md-12\">\r\n-                    <div class=\"portlet box purple\" style=\"background-color: white;\">\r\n-                        <div class=\"portlet-title\">\r\n-                            <div class=\"caption\">\r\n-                                <i class=\"fa fa-bars\"></i> Bar Chart for scores across sequences\r\n-                            </div>\r\n-                        </div>\r\n-                        <div class=\"portlet-body\">\r\n-                            <canvas id=\"scoresChart\"></canvas>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>\r\n-\r\n-\r\n-            <!-- Scatter Plot Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box blue\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-scatter-plot\"></i> Scatter Plot for Matches vs. Duration\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"scatter_plot\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box blue\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-scatter-plot\"></i> Histogram Plot for Sequence Duration\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                    <div id=\"histogram\" style=\"width:600px;height:300px;\"></div>\r\n-\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-\r\n-        </div>\r\n-        <!-- END PAGE CONTENT-->\r\n-    </div>\r\n-</div>\r\n-<!-- END CONTENT -->\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/jquery\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/jquery.flot\"></script>\r\n-<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flot/4.2.6/jquery.flot.categories.min.js\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<canvas id=\"pie_chart\"></canvas>\r\n-\r\n-\r\n-\r\n-\r\n-<script>  \r\n- function updateBarChart() {\r\n-    var barData = [\r\n-    {\r\n-        label: \"Match\",\r\n-        data: [ [1, <?php echo $counts['Match']; ?>] ],\r\n-        color: \"#00FF00\"\r\n-    },\r\n-    {\r\n-        label: \"No Match\",\r\n-        data: [ [2, <?php echo $counts['No Match']; ?>] ],\r\n-        color: \"#FF0000\"\r\n-    },\r\n-    {\r\n-        label: \"Sliding\",\r\n-        data: [ [3, <?php echo $counts['Sliding']; ?>] ],\r\n-        color: \"#0000FF\"\r\n-    },\r\n-    {\r\n-        label: \"Duration Mismatch\",\r\n-        data: [ [4, <?php echo $counts['Duration Mismatch']; ?>] ],\r\n-        color: \"#FFFF00\"\r\n-    }\r\n-]; \r\n-var options = {\r\n-    series: {\r\n-        bars: {\r\n-            show: true,\r\n-            barWidth: 0.5,\r\n-            align: 'center'\r\n-        }\r\n-    },\r\n-    xaxis: {\r\n-        mode: 'categories',\r\n-        tickLength: 0,\r\n-        label: \"Types\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        label: \"Count\" // Label for the y-axis\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        clickable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    legend: {\r\n-        show: true,\r\n-        position: \"ne\" // Legend at the top right corner\r\n-    }\r\n-};\r\n-\r\n-$.plot('#bar_chart', barData, options);\r\n-\r\n-}\r\n-\r\n-$(document).ready(function() {\r\n-    updateBarChart(); // This calls the function after the document is ready\r\n-});\r\n-\r\n-</script>\r\n-<script>\r\n-jQuery(document).ready(function() {\r\n-    function updatePieChart() {\r\n-        var data = {\r\n-            labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n-            datasets: [{\r\n-                data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n-                backgroundColor: ['rgba(255, 99, 132, 0.8)', 'rgba(54, 162, 235, 0.8)', 'rgba(255, 206, 86, 0.8)', 'rgba(75, 192, 192, 0.8)'],\r\n-                borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)'],\r\n-                borderWidth: 1\r\n-            }]\r\n-        };\r\n-        var ctx = document.getElementById('pie_chart').getContext('2d');\r\n-        var pieChart = new Chart(ctx, {\r\n-    type: 'pie',\r\n-    data: data,\r\n-    options: {\r\n-        responsive: true,\r\n-        legend: {\r\n-            position: 'top',\r\n-        },\r\n-        title: {\r\n-            display: true,\r\n-            text: 'Match Distribution'\r\n-        },\r\n-        tooltips: { // Enabling tooltips\r\n-            enabled: true\r\n-        },\r\n-        animation: {\r\n-            animateScale: true,\r\n-            animateRotate: true\r\n-        }\r\n-    }\r\n-});\r\n-    }\r\n-    updatePieChart();\r\n-});\r\n-</script>\r\n-\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateGraph() {\r\n-        // Fetch new data periodically (simulation here; replace with AJAX call in production)\r\n-        var data = <?php echo json_encode([$dataPoints]); ?>;\r\n-\r\n-     // Inside your existing updateGraph function\r\n-var options = {\r\n-    series: {\r\n-        lines: {\r\n-            show: true,\r\n-            fill: true\r\n-        },\r\n-        points: {\r\n-            show: true\r\n-        }\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        clickable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    xaxis: {\r\n-        tickDecimals: 0,\r\n-        tickSize: 1,\r\n-        label: \"Time\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        min: 0,\r\n-        tickSize: 1,\r\n-        label: \"Matches\" // Label for the y-axis\r\n-    },\r\n-    legend: {\r\n-        show: true\r\n-    }\r\n-};\r\n-$.plot(\"#line_chart\", data, options);\r\n-\r\n-\r\n-        // Tooltips setup\r\n-        $('<div id=\"tooltip\"></div>').css({\r\n-            position: \"absolute\",\r\n-            display: \"none\",\r\n-            border: \"1px solid #fdd\",\r\n-            padding: \"2px\",\r\n-            \"background-color\": \"#fee\",\r\n-            opacity: 0.80\r\n-        }).appendTo(\"body\");\r\n-\r\n-        $(\"#matchTimeGraph\").bind(\"plothover\", function (event, pos, item) {\r\n-            if (item) {\r\n-                var x = item.datapoint[0].toFixed(2),\r\n-                    y = item.datapoint[1].toFixed(2);\r\n-\r\n-                $(\"#tooltip\").html(\"Match at \" + x + \": \" + y)\r\n-                    .css({top: item.pageY+5, left: item.pageX+5})\r\n-                    .fadeIn(200);\r\n-            } else {\r\n-                $(\"#tooltip\").hide();\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    // Initial graph load\r\n-    updateGraph();\r\n-\r\n-    // Optional: Update graph data periodically\r\n-    setInterval(function() {\r\n-        updateGraph(); // Redraw the graph with potentially new data\r\n-    }, 10000); // Update every 10 seconds\r\n-});\r\n-</script>\r\n-<?php\r\n-\r\n-// Parse sequences and count types for each sequence\r\n-$typeCounts = [];\r\n-$scores = [];\r\n-\r\n-\r\n-// Convert PHP arrays to JavaScript arrays\r\n-$typeCountsJS = json_encode($typeCounts);\r\n-$scoresJS = json_encode($scores);\r\n-?>\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateScatterPlot() {\r\n-        \r\n-        // Simulated data; replace with AJAX call in production to fetch real-time data\r\n-        var scatterData = [\r\n-    {\r\n-        label: \"Matches vs Duration\",\r\n-        data: <?php echo json_encode($matches); ?>,\r\n-        points: { show: true },\r\n-        color: \"#00FF00\"\r\n-    }\r\n-];\r\n-\r\n-\r\n-        // Initialize the scatter plot\r\n-        $.plot(\"#scatter_plot\", scatterData, {\r\n-            series: {\r\n-                lines: { show: false },\r\n-                points: { show: true, radius: 3 }\r\n-            },\r\n-            grid: {\r\n-                hoverable: true,\r\n-                clickable: true,\r\n-                borderWidth: 1,\r\n-                borderColor: '#ccc'\r\n-            },\r\n-            xaxis: {\r\n-                tickDecimals: 0,\r\n-                tickSize: 1\r\n-            },\r\n-            yaxis: {\r\n-                min: 0\r\n-            }\r\n-        });\r\n-\r\n-        // Tooltips setup\r\n-        $('<div id=\"tooltip\"></div>').css({\r\n-            position: \"absolute\",\r\n-            display: \"none\",\r\n-            border: \"1px solid #fdd\",\r\n-            padding: \"2px\",\r\n-            \"background-color\": \"#fee\",\r\n-            opacity: 0.80\r\n-        }).appendTo(\"body\");\r\n-\r\n-        $(\"#scatter_plot\").bind(\"plothover\", function(event, pos, item) {\r\n-            if (item) {\r\n-                var x = item.datapoint[0].toFixed(2),\r\n-                    y = item.datapoint[1].toFixed(2);\r\n-\r\n-                $(\"#tooltip\").html(item.series.label + \" at \" + x + \": \" + y)\r\n-                    .css({top: item.pageY+5, left: item.pageX+5})\r\n-                    .fadeIn(200);\r\n-            } else {\r\n-                $(\"#tooltip\").hide();\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    // Initial chart load\r\n-    updateScatterPlot();\r\n-\r\n-    // Optional: Update chart data periodically\r\n-    setInterval(function() {\r\n-        updateScatterPlot(); // Redraw the graph with potentially new data\r\n-    }, 10000); // Update every 10 seconds, adjust timing as needed\r\n-});\r\n-</script>\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateHistogram(sequenceDurations) {\r\n-        var histogramData = [];\r\n-        var binSize = 10; // This value can be adjusted as needed for your histogram resolution\r\n-        var maxDuration = Math.max.apply(null, sequenceDurations);\r\n-        var numBins = Math.ceil(maxDuration / binSize);\r\n-        var bins = new Array(numBins).fill(0);\r\n-\r\n-        sequenceDurations.forEach(function(duration) {\r\n-            var binIndex = Math.floor(duration / binSize);\r\n-            bins[binIndex]++;\r\n-        });\r\n-\r\n-        bins.forEach(function(count, index) {\r\n-            if (count > 0) {\r\n-                histogramData.push([index * binSize + binSize / 2, count]); // Center the bar\r\n-            }\r\n-        });\r\n-\r\n-       // Inside your existing updateHistogram function\r\n-var options = {\r\n-    series: {\r\n-        bars: {\r\n-            show: true,\r\n-            align: 'center'\r\n-        }\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    xaxis: {\r\n-        tickSize: binSize,\r\n-        min: 0,\r\n-        max: maxDuration + binSize,\r\n-        label: \"Duration (units)\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        min: 0,\r\n-        label: \"Frequency\" // Label for the y-axis\r\n-    },\r\n-    legend: {\r\n-        show: true\r\n-    }\r\n-};\r\n-$.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8 } }], options);\r\n-\r\n-    }\r\n-\r\n-    // Dummy data for sequence durations\r\n-    var sequenceDurations = [5, 20, 15, 10, 35, 25, 30, 40, 45, 10, 20, 25, 30, 50, 55, 60, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];\r\n-\r\n-    // Call the update function to display the histogram\r\n-    updateHistogram(sequenceDurations);\r\n-});\r\n-</script>\r\n-<?php\r\n-// Assuming you have your scores in an associative array format\r\n-$sequenceScores = [\r\n-    'Sequence 1' => 87,\r\n-    'Sequence 2' => 92,\r\n-    'Sequence 3' => 75\r\n-];\r\n-\r\n-// Convert PHP array to JSON\r\n-$scoresJson = json_encode($sequenceScores);\r\n-?>\r\n-\r\n-<script>\r\n-var scoresData = <?php echo $scoresJson; ?>;\r\n-</script>\r\n-\r\n-<script>\r\n-document.addEventListener('DOMContentLoaded', function() {\r\n-    var ctx = document.getElementById('scoresChart').getContext('2d');\r\n-    var scoresChart = new Chart(ctx, {\r\n-        type: 'bar',\r\n-        data: {\r\n-            labels: Object.keys(scoresData), // Sequence names\r\n-            datasets: [{\r\n-                label: 'Scores',\r\n-                data: Object.values(scoresData), // Actual scores\r\n-                backgroundColor: [\r\n-                    'rgba(255, 99, 132, 0.2)',\r\n-                    'rgba(54, 162, 235, 0.2)',\r\n-                    'rgba(255, 206, 86, 0.2)'\r\n-                ],\r\n-                borderColor: [\r\n-                    'rgba(255, 99, 132, 1)',\r\n-                    'rgba(54, 162, 235, 1)',\r\n-                    'rgba(255, 206, 86, 1)'\r\n-                ],\r\n-                borderWidth: 1\r\n-            }]\r\n-        },\r\n-        options: {\r\n-            scales: {\r\n-                y: {\r\n-                    beginAtZero: true\r\n-                }\r\n-            },\r\n-            plugins: {\r\n-                legend: {\r\n-                    labels: {\r\n-                        // This more specific font property overrides the global property\r\n-                        font: {\r\n-                            size: 14\r\n-                        }\r\n-                    }\r\n-                }\r\n-            },\r\n-            // Set the background color here\r\n-            layout: {\r\n-                padding: {\r\n-                    left: 0,\r\n-                    right: 0,\r\n-                    top: 0,\r\n-                    bottom: 0\r\n-                }\r\n-            },\r\n-            backgroundColor: 'white' // Here's the key to setting the background color\r\n-        }\r\n-    });\r\n-});\r\n-</script>\r\n"
                },
                {
                    "date": 1713948001763,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,615 @@\n+<?php\r\n+\r\n+// Define the sequence array\r\n+$sequence = [\r\n+    ['No Match', 'Sliding', ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match'],\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Sliding',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match', 'Match'\r\n+];\r\n+\r\n+// Initialize counters\r\n+$counts = [\r\n+    'Match' => 0,\r\n+    'No Match' => 0,\r\n+    'Sliding' => 0,\r\n+    'Duration Mismatch' => 0\r\n+];\r\n+\r\n+// Dummy durations and match counts\r\n+$durations = [];\r\n+$matches = [];\r\n+foreach ($sequence as $index => $item) {\r\n+    $durations[] = rand(1, 100);  // Random duration between 1 and 100\r\n+    if ($item === 'Match' || (is_array($item) && in_array('Pitch Match', $item))) {\r\n+        $matches[] = ['x' => $index, 'y' => $durations[$index]];\r\n+    }\r\n+}\r\n+\r\n+// Calculate counts\r\n+foreach ($sequence as $item) {\r\n+    if (is_array($item)) {\r\n+        $counts['Duration Mismatch']++;\r\n+    } elseif ($item === 'Match') {\r\n+        $counts['Match']++;\r\n+    } elseif ($item === 'No Match') {\r\n+        $counts['No Match']++;\r\n+    } elseif ($item === 'Sliding') {\r\n+        $counts['Sliding']++;\r\n+    }\r\n+}\r\n+\r\n+// Prepare data points for Flot\r\n+$dataPoints = [];\r\n+$currentMatches = 0;\r\n+foreach ($sequence as $index => $item) {\r\n+    if ($item === 'Match') {\r\n+        $currentMatches++;\r\n+    }\r\n+    $dataPoints[] = [$index, $currentMatches];\r\n+}\r\n+\r\n+// Initialize counters\r\n+$matchCount = 0;\r\n+$mismatchCount = 0;\r\n+\r\n+// Calculate counts\r\n+foreach ($sequence as $item) {\r\n+    if (is_array($item)) {\r\n+        // Assuming 'Pitch Match', 'Duration Mismatch' is a type of match for simplicity\r\n+        $matchCount++;\r\n+    } elseif ($item === 'Match') {\r\n+        $matchCount++;\r\n+    } elseif ($item === 'No Match') {\r\n+        $mismatchCount++;\r\n+    }\r\n+}\r\n+$matchCount = count(array_filter($sequence, function($item) {\r\n+    return $item === 'Match' || (is_array($item) && in_array('Pitch Match', $item));\r\n+}));\r\n+\r\n+// Data for Flot\r\n+$flotData = [\r\n+    [\"label\" => \"Matches\", \"data\" => $matchCount, \"color\" => \"#00FF00\"],\r\n+    [\"label\" => \"Mismatches\", \"data\" => $mismatchCount, \"color\" => \"#FF0000\"]\r\n+];\r\n+\r\n+$matches = array_map(function ($match) {\r\n+    return [$match['x'], $match['y']];\r\n+}, $matches);\r\n+\r\n+?>\r\n+<!-- BEGIN CONTENT -->\r\n+<div class=\"page-content-wrapper\">\r\n+    <div class=\"page-content\">\r\n+        <!-- BEGIN PAGE HEADER-->\r\n+        <div class=\"row\">\r\n+            <div class=\"col-md-12\">\r\n+                <!-- BEGIN PAGE TITLE & BREADCRUMB-->\r\n+                <h3 class=\"page-title\">\r\n+                    <?php echo lang('sub_set_optional'); ?>\r\n+                </h3>\r\n+                <ul class=\"page-breadcrumb breadcrumb\">\r\n+                    <li>\r\n+                        <i class=\"fa fa-home\"></i>Home\r\n+                    </li>\r\n+                    <li>\r\n+                        <?php echo lang('sub_song'); ?>\r\n+                    </li>\r\n+                    <li>\r\n+                        <?php echo lang('header_ass_opt_sub'); ?>\r\n+                    </li>\r\n+                    <li id=\"result\" class=\"pull-right topClock\"></li>\r\n+                </ul>\r\n+                <!-- END PAGE TITLE & BREADCRUMB-->\r\n+            </div>\r\n+        </div>\r\n+        <!-- END PAGE HEADER-->\r\n+\r\n+        <!-- BEGIN PAGE CONTENT-->\r\n+        <div class=\"row\">\r\n+            <!-- Bar Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-bar-chart\"></i> Bar Chart for Match Count\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"bar_chart\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Pie Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-pie-chart\"></i> Pie Chart for Match Distribution\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                    <canvas id=\"pie_chart\" style=\"max-width:400px; max-height:400px;\"></canvas>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Line Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-line-chart\"></i> Line Chart for Match Proportion Over Time\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"line_chart\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Stacked Bar Chart Placeholder -->\r\n+          \r\n+\r\n+              <!--  Bar Chart Placeholder -->\r\n+             <!-- Bar Chart Placeholder -->\r\n+                <div class=\"col-md-12\">\r\n+                    <div class=\"portlet box purple\" style=\"background-color: white;\">\r\n+                        <div class=\"portlet-title\">\r\n+                            <div class=\"caption\">\r\n+                                <i class=\"fa fa-bars\"></i> Bar Chart for scores across sequences\r\n+                            </div>\r\n+                        </div>\r\n+                        <div class=\"portlet-body\">\r\n+                            <canvas id=\"scoresChart\"></canvas>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+\r\n+            <!-- Scatter Plot Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box blue\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-scatter-plot\"></i> Scatter Plot for Matches vs. Duration\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"scatter_plot\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box blue\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-scatter-plot\"></i> Histogram Plot for Sequence Duration\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                    <div id=\"histogram\" style=\"width:600px;height:300px;\"></div>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+\r\n+        </div>\r\n+        <!-- END PAGE CONTENT-->\r\n+    </div>\r\n+</div>\r\n+<!-- END CONTENT -->\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/jquery\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/jquery.flot\"></script>\r\n+<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flot/4.2.6/jquery.flot.categories.min.js\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<canvas id=\"pie_chart\"></canvas>\r\n+\r\n+\r\n+\r\n+\r\n+<script>  \r\n+ function updateBarChart() {\r\n+    var barData = [\r\n+    {\r\n+        label: \"Match\",\r\n+        data: [ [1, <?php echo $counts['Match']; ?>] ],\r\n+        color: \"#8A2BE2\"  // A shade of purple\r\n+    },\r\n+    {\r\n+        label: \"No Match\",\r\n+        data: [ [2, <?php echo $counts['No Match']; ?>] ],\r\n+        color: \"#DA70D6\"  // Another shade of purple\r\n+    },\r\n+    {\r\n+        label: \"Sliding\",\r\n+        data: [ [3, <?php echo $counts['Sliding']; ?>] ],\r\n+        color: \"#9370DB\"  // Another shade of purple\r\n+    },\r\n+    {\r\n+        label: \"Duration Mismatch\",\r\n+        data: [ [4, <?php echo $counts['Duration Mismatch']; ?>] ],\r\n+        color: \"#D8BFD8\"  // Another shade of purple\r\n+    }\r\n+];\r\n+\r\n+var options = {\r\n+    series: {\r\n+        bars: {\r\n+            show: true,\r\n+            barWidth: 0.5,\r\n+            align: 'center'\r\n+        }\r\n+    },\r\n+    xaxis: {\r\n+        mode: 'categories',\r\n+        tickLength: 0,\r\n+        label: \"Types\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        label: \"Count\" // Label for the y-axis\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        clickable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    legend: {\r\n+        show: true,\r\n+        position: \"ne\" // Legend at the top right corner\r\n+    }\r\n+};\r\n+\r\n+$.plot('#bar_chart', barData, options);\r\n+\r\n+}\r\n+\r\n+$(document).ready(function() {\r\n+    updateBarChart(); // This calls the function after the document is ready\r\n+});\r\n+\r\n+</script>\r\n+<script>\r\n+jQuery(document).ready(function() {\r\n+    function updatePieChart() {\r\n+        var data = {\r\n+    labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n+    datasets: [{\r\n+        data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n+        backgroundColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'], // Shades of purple\r\n+        borderColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'],\r\n+        borderWidth: 1\r\n+    }]\r\n+};\r\n+\r\n+        var ctx = document.getElementById('pie_chart').getContext('2d');\r\n+        var pieChart = new Chart(ctx, {\r\n+    type: 'pie',\r\n+    data: data,\r\n+    options: {\r\n+        responsive: true,\r\n+        legend: {\r\n+            position: 'top',\r\n+        },\r\n+        title: {\r\n+            display: true,\r\n+            text: 'Match Distribution'\r\n+        },\r\n+        tooltips: { // Enabling tooltips\r\n+            enabled: true\r\n+        },\r\n+        animation: {\r\n+            animateScale: true,\r\n+            animateRotate: true\r\n+        }\r\n+    }\r\n+});\r\n+    }\r\n+    updatePieChart();\r\n+});\r\n+</script>\r\n+\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateGraph() {\r\n+        // Fetch new data periodically (simulation here; replace with AJAX call in production)\r\n+        var data = [\r\n+    {\r\n+        label: \"Match Count Over Time\",\r\n+        data: <?php echo json_encode($dataPoints); ?>,\r\n+        lines: { show: true, fill: false },\r\n+        color: \"#8A2BE2\"  // Purple color\r\n+    }\r\n+];\r\n+\r\n+\r\n+     // Inside your existing updateGraph function\r\n+var options = {\r\n+    series: {\r\n+        lines: {\r\n+            show: true,\r\n+            fill: true\r\n+        },\r\n+        points: {\r\n+            show: true\r\n+        }\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        clickable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    xaxis: {\r\n+        tickDecimals: 0,\r\n+        tickSize: 1,\r\n+        label: \"Time\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        min: 0,\r\n+        tickSize: 1,\r\n+        label: \"Matches\" // Label for the y-axis\r\n+    },\r\n+    legend: {\r\n+        show: true\r\n+    }\r\n+};\r\n+$.plot(\"#line_chart\", data, options);\r\n+\r\n+\r\n+        // Tooltips setup\r\n+        $('<div id=\"tooltip\"></div>').css({\r\n+            position: \"absolute\",\r\n+            display: \"none\",\r\n+            border: \"1px solid #fdd\",\r\n+            padding: \"2px\",\r\n+            \"background-color\": \"#fee\",\r\n+            opacity: 0.80\r\n+        }).appendTo(\"body\");\r\n+\r\n+        $(\"#matchTimeGraph\").bind(\"plothover\", function (event, pos, item) {\r\n+            if (item) {\r\n+                var x = item.datapoint[0].toFixed(2),\r\n+                    y = item.datapoint[1].toFixed(2);\r\n+\r\n+                $(\"#tooltip\").html(\"Match at \" + x + \": \" + y)\r\n+                    .css({top: item.pageY+5, left: item.pageX+5})\r\n+                    .fadeIn(200);\r\n+            } else {\r\n+                $(\"#tooltip\").hide();\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    // Initial graph load\r\n+    updateGraph();\r\n+\r\n+    // Optional: Update graph data periodically\r\n+    setInterval(function() {\r\n+        updateGraph(); // Redraw the graph with potentially new data\r\n+    }, 10000); // Update every 10 seconds\r\n+});\r\n+</script>\r\n+<?php\r\n+\r\n+// Parse sequences and count types for each sequence\r\n+$typeCounts = [];\r\n+$scores = [];\r\n+\r\n+\r\n+// Convert PHP arrays to JavaScript arrays\r\n+$typeCountsJS = json_encode($typeCounts);\r\n+$scoresJS = json_encode($scores);\r\n+?>\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateScatterPlot() {\r\n+        \r\n+        // Simulated data; replace with AJAX call in production to fetch real-time data\r\n+        var scatterData = [\r\n+    {\r\n+        label: \"Matches vs Duration\",\r\n+        data: <?php echo json_encode($matches); ?>,\r\n+        points: { show: true },\r\n+        color: \"#9370DB\"  // Purple color\r\n+    }\r\n+];\r\n+\r\n+\r\n+\r\n+        // Initialize the scatter plot\r\n+        $.plot(\"#scatter_plot\", scatterData, {\r\n+            series: {\r\n+                lines: { show: false },\r\n+                points: { show: true, radius: 3 }\r\n+            },\r\n+            grid: {\r\n+                hoverable: true,\r\n+                clickable: true,\r\n+                borderWidth: 1,\r\n+                borderColor: '#ccc'\r\n+            },\r\n+            xaxis: {\r\n+                tickDecimals: 0,\r\n+                tickSize: 1\r\n+            },\r\n+            yaxis: {\r\n+                min: 0\r\n+            }\r\n+        });\r\n+\r\n+        // Tooltips setup\r\n+        $('<div id=\"tooltip\"></div>').css({\r\n+            position: \"absolute\",\r\n+            display: \"none\",\r\n+            border: \"1px solid #fdd\",\r\n+            padding: \"2px\",\r\n+            \"background-color\": \"#fee\",\r\n+            opacity: 0.80\r\n+        }).appendTo(\"body\");\r\n+\r\n+        $(\"#scatter_plot\").bind(\"plothover\", function(event, pos, item) {\r\n+            if (item) {\r\n+                var x = item.datapoint[0].toFixed(2),\r\n+                    y = item.datapoint[1].toFixed(2);\r\n+\r\n+                $(\"#tooltip\").html(item.series.label + \" at \" + x + \": \" + y)\r\n+                    .css({top: item.pageY+5, left: item.pageX+5})\r\n+                    .fadeIn(200);\r\n+            } else {\r\n+                $(\"#tooltip\").hide();\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    // Initial chart load\r\n+    updateScatterPlot();\r\n+\r\n+    // Optional: Update chart data periodically\r\n+    setInterval(function() {\r\n+        updateScatterPlot(); // Redraw the graph with potentially new data\r\n+    }, 10000); // Update every 10 seconds, adjust timing as needed\r\n+});\r\n+</script>\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateHistogram(sequenceDurations) {\r\n+        var histogramData = [];\r\n+        var binSize = 10; // This value can be adjusted as needed for your histogram resolution\r\n+        var maxDuration = Math.max.apply(null, sequenceDurations);\r\n+        var numBins = Math.ceil(maxDuration / binSize);\r\n+        var bins = new Array(numBins).fill(0);\r\n+\r\n+        sequenceDurations.forEach(function(duration) {\r\n+            var binIndex = Math.floor(duration / binSize);\r\n+            bins[binIndex]++;\r\n+        });\r\n+\r\n+        bins.forEach(function(count, index) {\r\n+            if (count > 0) {\r\n+                histogramData.push([index * binSize + binSize / 2, count]); // Center the bar\r\n+            }\r\n+        });\r\n+\r\n+       // Inside your existing updateHistogram function\r\n+var options = {\r\n+    series: {\r\n+        bars: {\r\n+            show: true,\r\n+            align: 'center'\r\n+        }\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    xaxis: {\r\n+        tickSize: binSize,\r\n+        min: 0,\r\n+        max: maxDuration + binSize,\r\n+        label: \"Duration (units)\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        min: 0,\r\n+        label: \"Frequency\" // Label for the y-axis\r\n+    },\r\n+    legend: {\r\n+        show: true\r\n+    }\r\n+};\r\n+$.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8, fillColor: \"#D8BFD8\" } }], options);\r\n+\r\n+    }\r\n+\r\n+    // Dummy data for sequence durations\r\n+    var sequenceDurations = [5, 20, 15, 10, 35, 25, 30, 40, 45, 10, 20, 25, 30, 50, 55, 60, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];\r\n+\r\n+    // Call the update function to display the histogram\r\n+    updateHistogram(sequenceDurations);\r\n+});\r\n+</script>\r\n+<?php\r\n+// Assuming you have your scores in an associative array format\r\n+$sequenceScores = [\r\n+    'Sequence 1' => 87,\r\n+    'Sequence 2' => 92,\r\n+    'Sequence 3' => 75\r\n+];\r\n+\r\n+// Convert PHP array to JSON\r\n+$scoresJson = json_encode($sequenceScores);\r\n+?>\r\n+\r\n+<script>\r\n+var scoresData = <?php echo $scoresJson; ?>;\r\n+</script>\r\n+\r\n+<script>\r\n+document.addEventListener('DOMContentLoaded', function() {\r\n+    var ctx = document.getElementById('scoresChart').getContext('2d');\r\n+    var scoresChart = new Chart(ctx, {\r\n+        type: 'bar',\r\n+        data: {\r\n+            labels: Object.keys(scoresData), // Sequence names\r\n+            datasets: [{\r\n+                label: 'Scores',\r\n+                data: Object.values(scoresData), // Actual scores\r\n+                backgroundColor: [\r\n+                    'rgba(255, 99, 132, 0.2)',\r\n+                    'rgba(54, 162, 235, 0.2)',\r\n+                    'rgba(255, 206, 86, 0.2)'\r\n+                ],\r\n+                borderColor: [\r\n+                    'rgba(255, 99, 132, 1)',\r\n+                    'rgba(54, 162, 235, 1)',\r\n+                    'rgba(255, 206, 86, 1)'\r\n+                ],\r\n+                borderWidth: 1\r\n+            }]\r\n+        },\r\n+        options: {\r\n+            scales: {\r\n+                y: {\r\n+                    beginAtZero: true\r\n+                }\r\n+            },\r\n+            plugins: {\r\n+                legend: {\r\n+                    labels: {\r\n+                        // This more specific font property overrides the global property\r\n+                        font: {\r\n+                            size: 14\r\n+                        }\r\n+                    }\r\n+                }\r\n+            },\r\n+            // Set the background color here\r\n+            layout: {\r\n+                padding: {\r\n+                    left: 0,\r\n+                    right: 0,\r\n+                    top: 0,\r\n+                    bottom: 0\r\n+                }\r\n+            },\r\n+            backgroundColor: 'white' // Here's the key to setting the background color\r\n+        }\r\n+    });\r\n+});\r\n+</script>\r\n"
                },
                {
                    "date": 1713948054661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,620 @@\n+<?php\r\n+\r\n+// Define the sequence array\r\n+$sequence = [\r\n+    ['No Match', 'Sliding', ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match'],\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Sliding',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n+    ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match', 'Match'\r\n+];\r\n+\r\n+// Initialize counters\r\n+$counts = [\r\n+    'Match' => 0,\r\n+    'No Match' => 0,\r\n+    'Sliding' => 0,\r\n+    'Duration Mismatch' => 0\r\n+];\r\n+\r\n+// Dummy durations and match counts\r\n+$durations = [];\r\n+$matches = [];\r\n+foreach ($sequence as $index => $item) {\r\n+    $durations[] = rand(1, 100);  // Random duration between 1 and 100\r\n+    if ($item === 'Match' || (is_array($item) && in_array('Pitch Match', $item))) {\r\n+        $matches[] = ['x' => $index, 'y' => $durations[$index]];\r\n+    }\r\n+}\r\n+\r\n+// Calculate counts\r\n+foreach ($sequence as $item) {\r\n+    if (is_array($item)) {\r\n+        $counts['Duration Mismatch']++;\r\n+    } elseif ($item === 'Match') {\r\n+        $counts['Match']++;\r\n+    } elseif ($item === 'No Match') {\r\n+        $counts['No Match']++;\r\n+    } elseif ($item === 'Sliding') {\r\n+        $counts['Sliding']++;\r\n+    }\r\n+}\r\n+\r\n+// Prepare data points for Flot\r\n+$dataPoints = [];\r\n+$currentMatches = 0;\r\n+foreach ($sequence as $index => $item) {\r\n+    if ($item === 'Match') {\r\n+        $currentMatches++;\r\n+    }\r\n+    $dataPoints[] = [$index, $currentMatches];\r\n+}\r\n+\r\n+// Initialize counters\r\n+$matchCount = 0;\r\n+$mismatchCount = 0;\r\n+\r\n+// Calculate counts\r\n+foreach ($sequence as $item) {\r\n+    if (is_array($item)) {\r\n+        // Assuming 'Pitch Match', 'Duration Mismatch' is a type of match for simplicity\r\n+        $matchCount++;\r\n+    } elseif ($item === 'Match') {\r\n+        $matchCount++;\r\n+    } elseif ($item === 'No Match') {\r\n+        $mismatchCount++;\r\n+    }\r\n+}\r\n+$matchCount = count(array_filter($sequence, function($item) {\r\n+    return $item === 'Match' || (is_array($item) && in_array('Pitch Match', $item));\r\n+}));\r\n+\r\n+// Data for Flot\r\n+$flotData = [\r\n+    [\"label\" => \"Matches\", \"data\" => $matchCount, \"color\" => \"#00FF00\"],\r\n+    [\"label\" => \"Mismatches\", \"data\" => $mismatchCount, \"color\" => \"#FF0000\"]\r\n+];\r\n+\r\n+$matches = array_map(function ($match) {\r\n+    return [$match['x'], $match['y']];\r\n+}, $matches);\r\n+\r\n+?>\r\n+<!-- BEGIN CONTENT -->\r\n+<div class=\"page-content-wrapper\">\r\n+    <div class=\"page-content\">\r\n+        <!-- BEGIN PAGE HEADER-->\r\n+        <div class=\"row\">\r\n+            <div class=\"col-md-12\">\r\n+                <!-- BEGIN PAGE TITLE & BREADCRUMB-->\r\n+                <h3 class=\"page-title\">\r\n+                    <?php echo lang('sub_set_optional'); ?>\r\n+                </h3>\r\n+                <ul class=\"page-breadcrumb breadcrumb\">\r\n+                    <li>\r\n+                        <i class=\"fa fa-home\"></i>Home\r\n+                    </li>\r\n+                    <li>\r\n+                        <?php echo lang('sub_song'); ?>\r\n+                    </li>\r\n+                    <li>\r\n+                        <?php echo lang('header_ass_opt_sub'); ?>\r\n+                    </li>\r\n+                    <li id=\"result\" class=\"pull-right topClock\"></li>\r\n+                </ul>\r\n+                <!-- END PAGE TITLE & BREADCRUMB-->\r\n+            </div>\r\n+        </div>\r\n+        <!-- END PAGE HEADER-->\r\n+\r\n+        <!-- BEGIN PAGE CONTENT-->\r\n+        <div class=\"row\">\r\n+            <!-- Bar Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-bar-chart\"></i> Bar Chart for Match Count\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"bar_chart\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Pie Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-pie-chart\"></i> Pie Chart for Match Distribution\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                    <canvas id=\"pie_chart\" style=\"max-width:400px; max-height:400px;\"></canvas>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Line Chart Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box purple\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-line-chart\"></i> Line Chart for Match Proportion Over Time\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"line_chart\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <!-- Stacked Bar Chart Placeholder -->\r\n+          \r\n+\r\n+              <!--  Bar Chart Placeholder -->\r\n+             <!-- Bar Chart Placeholder -->\r\n+                <div class=\"col-md-12\">\r\n+                    <div class=\"portlet box purple\" style=\"background-color: white;\">\r\n+                        <div class=\"portlet-title\">\r\n+                            <div class=\"caption\">\r\n+                                <i class=\"fa fa-bars\"></i> Bar Chart for scores across sequences\r\n+                            </div>\r\n+                        </div>\r\n+                        <div class=\"portlet-body\">\r\n+                            <canvas id=\"scoresChart\"></canvas>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+\r\n+            <!-- Scatter Plot Placeholder -->\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box blue\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-scatter-plot\"></i> Scatter Plot for Matches vs. Duration\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                        <div id=\"scatter_plot\" style=\"width:100%; height:400px;\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <div class=\"col-md-12\">\r\n+                <div class=\"portlet box blue\">\r\n+                    <div class=\"portlet-title\">\r\n+                        <div class=\"caption\">\r\n+                            <i class=\"fa fa-scatter-plot\"></i> Histogram Plot for Sequence Duration\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"portlet-body\">\r\n+                    <div id=\"histogram\" style=\"width:600px;height:300px;\"></div>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+\r\n+        </div>\r\n+        <!-- END PAGE CONTENT-->\r\n+    </div>\r\n+</div>\r\n+<!-- END CONTENT -->\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/jquery\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/jquery.flot\"></script>\r\n+<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flot/4.2.6/jquery.flot.categories.min.js\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js\"></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<canvas id=\"pie_chart\"></canvas>\r\n+\r\n+\r\n+\r\n+\r\n+<script>  \r\n+ function updateBarChart() {\r\n+    var barData = [\r\n+    {\r\n+        label: \"Match\",\r\n+        data: [ [1, <?php echo $counts['Match']; ?>] ],\r\n+        color: \"#8A2BE2\"  // A shade of purple\r\n+    },\r\n+    {\r\n+        label: \"No Match\",\r\n+        data: [ [2, <?php echo $counts['No Match']; ?>] ],\r\n+        color: \"#DA70D6\"  // Another shade of purple\r\n+    },\r\n+    {\r\n+        label: \"Sliding\",\r\n+        data: [ [3, <?php echo $counts['Sliding']; ?>] ],\r\n+        color: \"#9370DB\"  // Another shade of purple\r\n+    },\r\n+    {\r\n+        label: \"Duration Mismatch\",\r\n+        data: [ [4, <?php echo $counts['Duration Mismatch']; ?>] ],\r\n+        color: \"#D8BFD8\"  // Another shade of purple\r\n+    }\r\n+];\r\n+\r\n+var options = {\r\n+    series: {\r\n+        bars: {\r\n+            show: true,\r\n+            barWidth: 0.5,\r\n+            align: 'center'\r\n+        }\r\n+    },\r\n+    xaxis: {\r\n+        mode: 'categories',\r\n+        tickLength: 0,\r\n+        label: \"Types\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        label: \"Count\" // Label for the y-axis\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        clickable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    legend: {\r\n+        show: true,\r\n+        position: \"ne\" // Legend at the top right corner\r\n+    }\r\n+};\r\n+\r\n+$.plot('#bar_chart', barData, options);\r\n+\r\n+}\r\n+\r\n+$(document).ready(function() {\r\n+    updateBarChart(); // This calls the function after the document is ready\r\n+});\r\n+\r\n+</script>\r\n+<script>\r\n+jQuery(document).ready(function() {\r\n+    function updatePieChart() {\r\n+        var data = {\r\n+    labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n+    datasets: [{\r\n+        data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n+        backgroundColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'], // Shades of purple\r\n+        borderColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'],\r\n+        borderWidth: 1\r\n+    }]\r\n+};\r\n+\r\n+        var ctx = document.getElementById('pie_chart').getContext('2d');\r\n+        var pieChart = new Chart(ctx, {\r\n+    type: 'pie',\r\n+    data: data,\r\n+    options: {\r\n+        responsive: true,\r\n+        legend: {\r\n+            position: 'top',\r\n+        },\r\n+        title: {\r\n+            display: true,\r\n+            text: 'Match Distribution'\r\n+        },\r\n+        tooltips: { // Enabling tooltips\r\n+            enabled: true\r\n+        },\r\n+        animation: {\r\n+            animateScale: true,\r\n+            animateRotate: true\r\n+        }\r\n+    }\r\n+});\r\n+    }\r\n+    updatePieChart();\r\n+});\r\n+</script>\r\n+\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateGraph() {\r\n+        // Fetch new data periodically (simulation here; replace with AJAX call in production)\r\n+        var data = [\r\n+    {\r\n+        label: \"Match Count Over Time\",\r\n+        data: <?php echo json_encode($dataPoints); ?>,\r\n+        lines: { show: true, fill: false },\r\n+        color: \"#8A2BE2\"  // Purple color\r\n+    }\r\n+];\r\n+\r\n+\r\n+     // Inside your existing updateGraph function\r\n+var options = {\r\n+    series: {\r\n+        lines: {\r\n+            show: true,\r\n+            fill: true\r\n+        },\r\n+        points: {\r\n+            show: true\r\n+        }\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        clickable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    xaxis: {\r\n+        tickDecimals: 0,\r\n+        tickSize: 1,\r\n+        label: \"Time\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        min: 0,\r\n+        tickSize: 1,\r\n+        label: \"Matches\" // Label for the y-axis\r\n+    },\r\n+    legend: {\r\n+        show: true\r\n+    }\r\n+};\r\n+$.plot(\"#line_chart\", data, options);\r\n+\r\n+\r\n+        // Tooltips setup\r\n+        $('<div id=\"tooltip\"></div>').css({\r\n+            position: \"absolute\",\r\n+            display: \"none\",\r\n+            border: \"1px solid #fdd\",\r\n+            padding: \"2px\",\r\n+            \"background-color\": \"#fee\",\r\n+            opacity: 0.80\r\n+        }).appendTo(\"body\");\r\n+\r\n+        $(\"#matchTimeGraph\").bind(\"plothover\", function (event, pos, item) {\r\n+            if (item) {\r\n+                var x = item.datapoint[0].toFixed(2),\r\n+                    y = item.datapoint[1].toFixed(2);\r\n+\r\n+                $(\"#tooltip\").html(\"Match at \" + x + \": \" + y)\r\n+                    .css({top: item.pageY+5, left: item.pageX+5})\r\n+                    .fadeIn(200);\r\n+            } else {\r\n+                $(\"#tooltip\").hide();\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    // Initial graph load\r\n+    updateGraph();\r\n+\r\n+    // Optional: Update graph data periodically\r\n+    setInterval(function() {\r\n+        updateGraph(); // Redraw the graph with potentially new data\r\n+    }, 10000); // Update every 10 seconds\r\n+});\r\n+</script>\r\n+<?php\r\n+\r\n+// Parse sequences and count types for each sequence\r\n+$typeCounts = [];\r\n+$scores = [];\r\n+\r\n+\r\n+// Convert PHP arrays to JavaScript arrays\r\n+$typeCountsJS = json_encode($typeCounts);\r\n+$scoresJS = json_encode($scores);\r\n+?>\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateScatterPlot() {\r\n+        \r\n+        // Simulated data; replace with AJAX call in production to fetch real-time data\r\n+        var scatterData = [\r\n+    {\r\n+        label: \"Matches vs Duration\",\r\n+        data: <?php echo json_encode($matches); ?>,\r\n+        points: { show: true },\r\n+        color: \"#9370DB\"  // Purple color\r\n+    }\r\n+];\r\n+\r\n+\r\n+\r\n+        // Initialize the scatter plot\r\n+        $.plot(\"#scatter_plot\", scatterData, {\r\n+            series: {\r\n+                lines: { show: false },\r\n+                points: { show: true, radius: 3 }\r\n+            },\r\n+            grid: {\r\n+                hoverable: true,\r\n+                clickable: true,\r\n+                borderWidth: 1,\r\n+                borderColor: '#ccc'\r\n+            },\r\n+            xaxis: {\r\n+                tickDecimals: 0,\r\n+                tickSize: 1\r\n+            },\r\n+            yaxis: {\r\n+                min: 0\r\n+            }\r\n+        });\r\n+\r\n+        // Tooltips setup\r\n+        $('<div id=\"tooltip\"></div>').css({\r\n+            position: \"absolute\",\r\n+            display: \"none\",\r\n+            border: \"1px solid #fdd\",\r\n+            padding: \"2px\",\r\n+            \"background-color\": \"#fee\",\r\n+            opacity: 0.80\r\n+        }).appendTo(\"body\");\r\n+\r\n+        $(\"#scatter_plot\").bind(\"plothover\", function(event, pos, item) {\r\n+            if (item) {\r\n+                var x = item.datapoint[0].toFixed(2),\r\n+                    y = item.datapoint[1].toFixed(2);\r\n+\r\n+                $(\"#tooltip\").html(item.series.label + \" at \" + x + \": \" + y)\r\n+                    .css({top: item.pageY+5, left: item.pageX+5})\r\n+                    .fadeIn(200);\r\n+            } else {\r\n+                $(\"#tooltip\").hide();\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    // Initial chart load\r\n+    updateScatterPlot();\r\n+\r\n+    // Optional: Update chart data periodically\r\n+    setInterval(function() {\r\n+        updateScatterPlot(); // Redraw the graph with potentially new data\r\n+    }, 10000); // Update every 10 seconds, adjust timing as needed\r\n+});\r\n+</script>\r\n+<script type=\"text/javascript\">\r\n+jQuery(document).ready(function() {\r\n+    function updateHistogram(sequenceDurations) {\r\n+        var histogramData = [];\r\n+        var binSize = 10; // This value can be adjusted as needed for your histogram resolution\r\n+        var maxDuration = Math.max.apply(null, sequenceDurations);\r\n+        var numBins = Math.ceil(maxDuration / binSize);\r\n+        var bins = new Array(numBins).fill(0);\r\n+\r\n+        sequenceDurations.forEach(function(duration) {\r\n+            var binIndex = Math.floor(duration / binSize);\r\n+            bins[binIndex]++;\r\n+        });\r\n+\r\n+        bins.forEach(function(count, index) {\r\n+            if (count > 0) {\r\n+                histogramData.push([index * binSize + binSize / 2, count]); // Center the bar\r\n+            }\r\n+        });\r\n+\r\n+       // Inside your existing updateHistogram function\r\n+var options = {\r\n+    series: {\r\n+        bars: {\r\n+            show: true,\r\n+            align: 'center'\r\n+        }\r\n+    },\r\n+    grid: {\r\n+        hoverable: true,\r\n+        borderWidth: 1,\r\n+        borderColor: '#ccc'\r\n+    },\r\n+    xaxis: {\r\n+        tickSize: binSize,\r\n+        min: 0,\r\n+        max: maxDuration + binSize,\r\n+        label: \"Duration (units)\" // Label for the x-axis\r\n+    },\r\n+    yaxis: {\r\n+        min: 0,\r\n+        label: \"Frequency\" // Label for the y-axis\r\n+    },\r\n+    legend: {\r\n+        show: true\r\n+    }\r\n+};\r\n+$.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8, fillColor: \"#D8BFD8\" } }], options);\r\n+\r\n+    }\r\n+\r\n+    // Dummy data for sequence durations\r\n+    var sequenceDurations = [5, 20, 15, 10, 35, 25, 30, 40, 45, 10, 20, 25, 30, 50, 55, 60, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];\r\n+\r\n+    // Call the update function to display the histogram\r\n+    updateHistogram(sequenceDurations);\r\n+});\r\n+</script>\r\n+<?php\r\n+// Assuming you have your scores in an associative array format\r\n+$sequenceScores = [\r\n+    'Sequence 1' => 87,\r\n+    'Sequence 2' => 92,\r\n+    'Sequence 3' => 75\r\n+];\r\n+\r\n+// Convert PHP array to JSON\r\n+$scoresJson = json_encode($sequenceScores);\r\n+?>\r\n+\r\n+<script>\r\n+var scoresData = <?php echo $scoresJson; ?>;\r\n+</script>\r\n+\r\n+<script>\r\n+document.addEventListener('DOMContentLoaded', function() {\r\n+    var ctx = document.getElementById('scoresChart').getContext('2d');\r\n+    var scoresChart = new Chart(ctx, {\r\n+        type: 'bar',\r\n+        data: {\r\n+            labels: Object.keys(scoresData), // Sequence names\r\n+            datasets: [{\r\n+                label: 'Scores',\r\n+                var data = {\r\n+    labels: Object.keys(scoresData), // Sequence names\r\n+    datasets: [{\r\n+        label: 'Scores',\r\n+        data: Object.values(scoresData), // Actual scores\r\n+        backgroundColor: [\r\n+            'rgba(148, 0, 211, 0.2)',  // A shade of purple\r\n+            'rgba(153, 50, 204, 0.2)', // Another shade of purple\r\n+            'rgba(186, 85, 211, 0.2)'  // Another shade of purple\r\n+        ],\r\n+        borderColor: [\r\n+            'rgba(148, 0, 211, 1)',  // Darker purple\r\n+            'rgba(153, 50, 204, 1)', // Darker purple\r\n+            'rgba(186, 85, 211, 1)'  // Darker purple\r\n+        ],\r\n+        borderWidth: 1\r\n+    }]\r\n+};\r\n+\r\n+        options: {\r\n+            scales: {\r\n+                y: {\r\n+                    beginAtZero: true\r\n+                }\r\n+            },\r\n+            plugins: {\r\n+                legend: {\r\n+                    labels: {\r\n+                        // This more specific font property overrides the global property\r\n+                        font: {\r\n+                            size: 14\r\n+                        }\r\n+                    }\r\n+                }\r\n+            },\r\n+            // Set the background color here\r\n+            layout: {\r\n+                padding: {\r\n+                    left: 0,\r\n+                    right: 0,\r\n+                    top: 0,\r\n+                    bottom: 0\r\n+                }\r\n+            },\r\n+            backgroundColor: 'white' // Here's the key to setting the background color\r\n+        }\r\n+    });\r\n+});\r\n+</script>\r\n"
                },
                {
                    "date": 1713948182735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -564,13 +564,9 @@\n document.addEventListener('DOMContentLoaded', function() {\r\n     var ctx = document.getElementById('scoresChart').getContext('2d');\r\n     var scoresChart = new Chart(ctx, {\r\n         type: 'bar',\r\n-        data: {\r\n-            labels: Object.keys(scoresData), // Sequence names\r\n-            datasets: [{\r\n-                label: 'Scores',\r\n-                var data = {\r\n+        var data = {\r\n     labels: Object.keys(scoresData), // Sequence names\r\n     datasets: [{\r\n         label: 'Scores',\r\n         data: Object.values(scoresData), // Actual scores\r\n@@ -586,9 +582,8 @@\n         ],\r\n         borderWidth: 1\r\n     }]\r\n };\r\n-\r\n         options: {\r\n             scales: {\r\n                 y: {\r\n                     beginAtZero: true\r\n@@ -617,1234 +612,4 @@\n         }\r\n     });\r\n });\r\n </script>\r\n-<?php\r\n-\r\n-// Define the sequence array\r\n-$sequence = [\r\n-    ['No Match', 'Sliding', ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match'],\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Sliding',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match', 'Match'\r\n-];\r\n-\r\n-// Initialize counters\r\n-$counts = [\r\n-    'Match' => 0,\r\n-    'No Match' => 0,\r\n-    'Sliding' => 0,\r\n-    'Duration Mismatch' => 0\r\n-];\r\n-\r\n-// Dummy durations and match counts\r\n-$durations = [];\r\n-$matches = [];\r\n-foreach ($sequence as $index => $item) {\r\n-    $durations[] = rand(1, 100);  // Random duration between 1 and 100\r\n-    if ($item === 'Match' || (is_array($item) && in_array('Pitch Match', $item))) {\r\n-        $matches[] = ['x' => $index, 'y' => $durations[$index]];\r\n-    }\r\n-}\r\n-\r\n-// Calculate counts\r\n-foreach ($sequence as $item) {\r\n-    if (is_array($item)) {\r\n-        $counts['Duration Mismatch']++;\r\n-    } elseif ($item === 'Match') {\r\n-        $counts['Match']++;\r\n-    } elseif ($item === 'No Match') {\r\n-        $counts['No Match']++;\r\n-    } elseif ($item === 'Sliding') {\r\n-        $counts['Sliding']++;\r\n-    }\r\n-}\r\n-\r\n-// Prepare data points for Flot\r\n-$dataPoints = [];\r\n-$currentMatches = 0;\r\n-foreach ($sequence as $index => $item) {\r\n-    if ($item === 'Match') {\r\n-        $currentMatches++;\r\n-    }\r\n-    $dataPoints[] = [$index, $currentMatches];\r\n-}\r\n-\r\n-// Initialize counters\r\n-$matchCount = 0;\r\n-$mismatchCount = 0;\r\n-\r\n-// Calculate counts\r\n-foreach ($sequence as $item) {\r\n-    if (is_array($item)) {\r\n-        // Assuming 'Pitch Match', 'Duration Mismatch' is a type of match for simplicity\r\n-        $matchCount++;\r\n-    } elseif ($item === 'Match') {\r\n-        $matchCount++;\r\n-    } elseif ($item === 'No Match') {\r\n-        $mismatchCount++;\r\n-    }\r\n-}\r\n-$matchCount = count(array_filter($sequence, function($item) {\r\n-    return $item === 'Match' || (is_array($item) && in_array('Pitch Match', $item));\r\n-}));\r\n-\r\n-// Data for Flot\r\n-$flotData = [\r\n-    [\"label\" => \"Matches\", \"data\" => $matchCount, \"color\" => \"#00FF00\"],\r\n-    [\"label\" => \"Mismatches\", \"data\" => $mismatchCount, \"color\" => \"#FF0000\"]\r\n-];\r\n-\r\n-$matches = array_map(function ($match) {\r\n-    return [$match['x'], $match['y']];\r\n-}, $matches);\r\n-\r\n-?>\r\n-<!-- BEGIN CONTENT -->\r\n-<div class=\"page-content-wrapper\">\r\n-    <div class=\"page-content\">\r\n-        <!-- BEGIN PAGE HEADER-->\r\n-        <div class=\"row\">\r\n-            <div class=\"col-md-12\">\r\n-                <!-- BEGIN PAGE TITLE & BREADCRUMB-->\r\n-                <h3 class=\"page-title\">\r\n-                    <?php echo lang('sub_set_optional'); ?>\r\n-                </h3>\r\n-                <ul class=\"page-breadcrumb breadcrumb\">\r\n-                    <li>\r\n-                        <i class=\"fa fa-home\"></i>Home\r\n-                    </li>\r\n-                    <li>\r\n-                        <?php echo lang('sub_song'); ?>\r\n-                    </li>\r\n-                    <li>\r\n-                        <?php echo lang('header_ass_opt_sub'); ?>\r\n-                    </li>\r\n-                    <li id=\"result\" class=\"pull-right topClock\"></li>\r\n-                </ul>\r\n-                <!-- END PAGE TITLE & BREADCRUMB-->\r\n-            </div>\r\n-        </div>\r\n-        <!-- END PAGE HEADER-->\r\n-\r\n-        <!-- BEGIN PAGE CONTENT-->\r\n-        <div class=\"row\">\r\n-            <!-- Bar Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-bar-chart\"></i> Bar Chart for Match Count\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"bar_chart\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Pie Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-pie-chart\"></i> Pie Chart for Match Distribution\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                    <canvas id=\"pie_chart\" style=\"max-width:400px; max-height:400px;\"></canvas>\r\n-\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Line Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-line-chart\"></i> Line Chart for Match Proportion Over Time\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"line_chart\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Stacked Bar Chart Placeholder -->\r\n-          \r\n-\r\n-              <!--  Bar Chart Placeholder -->\r\n-             <!-- Bar Chart Placeholder -->\r\n-                <div class=\"col-md-12\">\r\n-                    <div class=\"portlet box purple\" style=\"background-color: white;\">\r\n-                        <div class=\"portlet-title\">\r\n-                            <div class=\"caption\">\r\n-                                <i class=\"fa fa-bars\"></i> Bar Chart for scores across sequences\r\n-                            </div>\r\n-                        </div>\r\n-                        <div class=\"portlet-body\">\r\n-                            <canvas id=\"scoresChart\"></canvas>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>\r\n-\r\n-\r\n-            <!-- Scatter Plot Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box blue\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-scatter-plot\"></i> Scatter Plot for Matches vs. Duration\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"scatter_plot\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box blue\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-scatter-plot\"></i> Histogram Plot for Sequence Duration\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                    <div id=\"histogram\" style=\"width:600px;height:300px;\"></div>\r\n-\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-\r\n-        </div>\r\n-        <!-- END PAGE CONTENT-->\r\n-    </div>\r\n-</div>\r\n-<!-- END CONTENT -->\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/jquery\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/jquery.flot\"></script>\r\n-<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flot/4.2.6/jquery.flot.categories.min.js\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<canvas id=\"pie_chart\"></canvas>\r\n-\r\n-\r\n-\r\n-\r\n-<script>  \r\n- function updateBarChart() {\r\n-    var barData = [\r\n-    {\r\n-        label: \"Match\",\r\n-        data: [ [1, <?php echo $counts['Match']; ?>] ],\r\n-        color: \"#8A2BE2\"  // A shade of purple\r\n-    },\r\n-    {\r\n-        label: \"No Match\",\r\n-        data: [ [2, <?php echo $counts['No Match']; ?>] ],\r\n-        color: \"#DA70D6\"  // Another shade of purple\r\n-    },\r\n-    {\r\n-        label: \"Sliding\",\r\n-        data: [ [3, <?php echo $counts['Sliding']; ?>] ],\r\n-        color: \"#9370DB\"  // Another shade of purple\r\n-    },\r\n-    {\r\n-        label: \"Duration Mismatch\",\r\n-        data: [ [4, <?php echo $counts['Duration Mismatch']; ?>] ],\r\n-        color: \"#D8BFD8\"  // Another shade of purple\r\n-    }\r\n-];\r\n-\r\n-var options = {\r\n-    series: {\r\n-        bars: {\r\n-            show: true,\r\n-            barWidth: 0.5,\r\n-            align: 'center'\r\n-        }\r\n-    },\r\n-    xaxis: {\r\n-        mode: 'categories',\r\n-        tickLength: 0,\r\n-        label: \"Types\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        label: \"Count\" // Label for the y-axis\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        clickable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    legend: {\r\n-        show: true,\r\n-        position: \"ne\" // Legend at the top right corner\r\n-    }\r\n-};\r\n-\r\n-$.plot('#bar_chart', barData, options);\r\n-\r\n-}\r\n-\r\n-$(document).ready(function() {\r\n-    updateBarChart(); // This calls the function after the document is ready\r\n-});\r\n-\r\n-</script>\r\n-<script>\r\n-jQuery(document).ready(function() {\r\n-    function updatePieChart() {\r\n-        var data = {\r\n-    labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n-    datasets: [{\r\n-        data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n-        backgroundColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'], // Shades of purple\r\n-        borderColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'],\r\n-        borderWidth: 1\r\n-    }]\r\n-};\r\n-\r\n-        var ctx = document.getElementById('pie_chart').getContext('2d');\r\n-        var pieChart = new Chart(ctx, {\r\n-    type: 'pie',\r\n-    data: data,\r\n-    options: {\r\n-        responsive: true,\r\n-        legend: {\r\n-            position: 'top',\r\n-        },\r\n-        title: {\r\n-            display: true,\r\n-            text: 'Match Distribution'\r\n-        },\r\n-        tooltips: { // Enabling tooltips\r\n-            enabled: true\r\n-        },\r\n-        animation: {\r\n-            animateScale: true,\r\n-            animateRotate: true\r\n-        }\r\n-    }\r\n-});\r\n-    }\r\n-    updatePieChart();\r\n-});\r\n-</script>\r\n-\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateGraph() {\r\n-        // Fetch new data periodically (simulation here; replace with AJAX call in production)\r\n-        var data = [\r\n-    {\r\n-        label: \"Match Count Over Time\",\r\n-        data: <?php echo json_encode($dataPoints); ?>,\r\n-        lines: { show: true, fill: false },\r\n-        color: \"#8A2BE2\"  // Purple color\r\n-    }\r\n-];\r\n-\r\n-\r\n-     // Inside your existing updateGraph function\r\n-var options = {\r\n-    series: {\r\n-        lines: {\r\n-            show: true,\r\n-            fill: true\r\n-        },\r\n-        points: {\r\n-            show: true\r\n-        }\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        clickable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    xaxis: {\r\n-        tickDecimals: 0,\r\n-        tickSize: 1,\r\n-        label: \"Time\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        min: 0,\r\n-        tickSize: 1,\r\n-        label: \"Matches\" // Label for the y-axis\r\n-    },\r\n-    legend: {\r\n-        show: true\r\n-    }\r\n-};\r\n-$.plot(\"#line_chart\", data, options);\r\n-\r\n-\r\n-        // Tooltips setup\r\n-        $('<div id=\"tooltip\"></div>').css({\r\n-            position: \"absolute\",\r\n-            display: \"none\",\r\n-            border: \"1px solid #fdd\",\r\n-            padding: \"2px\",\r\n-            \"background-color\": \"#fee\",\r\n-            opacity: 0.80\r\n-        }).appendTo(\"body\");\r\n-\r\n-        $(\"#matchTimeGraph\").bind(\"plothover\", function (event, pos, item) {\r\n-            if (item) {\r\n-                var x = item.datapoint[0].toFixed(2),\r\n-                    y = item.datapoint[1].toFixed(2);\r\n-\r\n-                $(\"#tooltip\").html(\"Match at \" + x + \": \" + y)\r\n-                    .css({top: item.pageY+5, left: item.pageX+5})\r\n-                    .fadeIn(200);\r\n-            } else {\r\n-                $(\"#tooltip\").hide();\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    // Initial graph load\r\n-    updateGraph();\r\n-\r\n-    // Optional: Update graph data periodically\r\n-    setInterval(function() {\r\n-        updateGraph(); // Redraw the graph with potentially new data\r\n-    }, 10000); // Update every 10 seconds\r\n-});\r\n-</script>\r\n-<?php\r\n-\r\n-// Parse sequences and count types for each sequence\r\n-$typeCounts = [];\r\n-$scores = [];\r\n-\r\n-\r\n-// Convert PHP arrays to JavaScript arrays\r\n-$typeCountsJS = json_encode($typeCounts);\r\n-$scoresJS = json_encode($scores);\r\n-?>\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateScatterPlot() {\r\n-        \r\n-        // Simulated data; replace with AJAX call in production to fetch real-time data\r\n-        var scatterData = [\r\n-    {\r\n-        label: \"Matches vs Duration\",\r\n-        data: <?php echo json_encode($matches); ?>,\r\n-        points: { show: true },\r\n-        color: \"#9370DB\"  // Purple color\r\n-    }\r\n-];\r\n-\r\n-\r\n-\r\n-        // Initialize the scatter plot\r\n-        $.plot(\"#scatter_plot\", scatterData, {\r\n-            series: {\r\n-                lines: { show: false },\r\n-                points: { show: true, radius: 3 }\r\n-            },\r\n-            grid: {\r\n-                hoverable: true,\r\n-                clickable: true,\r\n-                borderWidth: 1,\r\n-                borderColor: '#ccc'\r\n-            },\r\n-            xaxis: {\r\n-                tickDecimals: 0,\r\n-                tickSize: 1\r\n-            },\r\n-            yaxis: {\r\n-                min: 0\r\n-            }\r\n-        });\r\n-\r\n-        // Tooltips setup\r\n-        $('<div id=\"tooltip\"></div>').css({\r\n-            position: \"absolute\",\r\n-            display: \"none\",\r\n-            border: \"1px solid #fdd\",\r\n-            padding: \"2px\",\r\n-            \"background-color\": \"#fee\",\r\n-            opacity: 0.80\r\n-        }).appendTo(\"body\");\r\n-\r\n-        $(\"#scatter_plot\").bind(\"plothover\", function(event, pos, item) {\r\n-            if (item) {\r\n-                var x = item.datapoint[0].toFixed(2),\r\n-                    y = item.datapoint[1].toFixed(2);\r\n-\r\n-                $(\"#tooltip\").html(item.series.label + \" at \" + x + \": \" + y)\r\n-                    .css({top: item.pageY+5, left: item.pageX+5})\r\n-                    .fadeIn(200);\r\n-            } else {\r\n-                $(\"#tooltip\").hide();\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    // Initial chart load\r\n-    updateScatterPlot();\r\n-\r\n-    // Optional: Update chart data periodically\r\n-    setInterval(function() {\r\n-        updateScatterPlot(); // Redraw the graph with potentially new data\r\n-    }, 10000); // Update every 10 seconds, adjust timing as needed\r\n-});\r\n-</script>\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateHistogram(sequenceDurations) {\r\n-        var histogramData = [];\r\n-        var binSize = 10; // This value can be adjusted as needed for your histogram resolution\r\n-        var maxDuration = Math.max.apply(null, sequenceDurations);\r\n-        var numBins = Math.ceil(maxDuration / binSize);\r\n-        var bins = new Array(numBins).fill(0);\r\n-\r\n-        sequenceDurations.forEach(function(duration) {\r\n-            var binIndex = Math.floor(duration / binSize);\r\n-            bins[binIndex]++;\r\n-        });\r\n-\r\n-        bins.forEach(function(count, index) {\r\n-            if (count > 0) {\r\n-                histogramData.push([index * binSize + binSize / 2, count]); // Center the bar\r\n-            }\r\n-        });\r\n-\r\n-       // Inside your existing updateHistogram function\r\n-var options = {\r\n-    series: {\r\n-        bars: {\r\n-            show: true,\r\n-            align: 'center'\r\n-        }\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    xaxis: {\r\n-        tickSize: binSize,\r\n-        min: 0,\r\n-        max: maxDuration + binSize,\r\n-        label: \"Duration (units)\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        min: 0,\r\n-        label: \"Frequency\" // Label for the y-axis\r\n-    },\r\n-    legend: {\r\n-        show: true\r\n-    }\r\n-};\r\n-$.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8, fillColor: \"#D8BFD8\" } }], options);\r\n-\r\n-    }\r\n-\r\n-    // Dummy data for sequence durations\r\n-    var sequenceDurations = [5, 20, 15, 10, 35, 25, 30, 40, 45, 10, 20, 25, 30, 50, 55, 60, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];\r\n-\r\n-    // Call the update function to display the histogram\r\n-    updateHistogram(sequenceDurations);\r\n-});\r\n-</script>\r\n-<?php\r\n-// Assuming you have your scores in an associative array format\r\n-$sequenceScores = [\r\n-    'Sequence 1' => 87,\r\n-    'Sequence 2' => 92,\r\n-    'Sequence 3' => 75\r\n-];\r\n-\r\n-// Convert PHP array to JSON\r\n-$scoresJson = json_encode($sequenceScores);\r\n-?>\r\n-\r\n-<script>\r\n-var scoresData = <?php echo $scoresJson; ?>;\r\n-</script>\r\n-\r\n-<script>\r\n-document.addEventListener('DOMContentLoaded', function() {\r\n-    var ctx = document.getElementById('scoresChart').getContext('2d');\r\n-    var scoresChart = new Chart(ctx, {\r\n-        type: 'bar',\r\n-        data: {\r\n-            labels: Object.keys(scoresData), // Sequence names\r\n-            datasets: [{\r\n-                label: 'Scores',\r\n-                data: Object.values(scoresData), // Actual scores\r\n-                backgroundColor: [\r\n-                    'rgba(255, 99, 132, 0.2)',\r\n-                    'rgba(54, 162, 235, 0.2)',\r\n-                    'rgba(255, 206, 86, 0.2)'\r\n-                ],\r\n-                borderColor: [\r\n-                    'rgba(255, 99, 132, 1)',\r\n-                    'rgba(54, 162, 235, 1)',\r\n-                    'rgba(255, 206, 86, 1)'\r\n-                ],\r\n-                borderWidth: 1\r\n-            }]\r\n-        },\r\n-        options: {\r\n-            scales: {\r\n-                y: {\r\n-                    beginAtZero: true\r\n-                }\r\n-            },\r\n-            plugins: {\r\n-                legend: {\r\n-                    labels: {\r\n-                        // This more specific font property overrides the global property\r\n-                        font: {\r\n-                            size: 14\r\n-                        }\r\n-                    }\r\n-                }\r\n-            },\r\n-            // Set the background color here\r\n-            layout: {\r\n-                padding: {\r\n-                    left: 0,\r\n-                    right: 0,\r\n-                    top: 0,\r\n-                    bottom: 0\r\n-                }\r\n-            },\r\n-            backgroundColor: 'white' // Here's the key to setting the background color\r\n-        }\r\n-    });\r\n-});\r\n-</script>\r\n-<?php\r\n-\r\n-// Define the sequence array\r\n-$sequence = [\r\n-    ['No Match', 'Sliding', ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match'],\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Sliding',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n-    ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match', 'Match'\r\n-];\r\n-\r\n-// Initialize counters\r\n-$counts = [\r\n-    'Match' => 0,\r\n-    'No Match' => 0,\r\n-    'Sliding' => 0,\r\n-    'Duration Mismatch' => 0\r\n-];\r\n-\r\n-// Dummy durations and match counts\r\n-$durations = [];\r\n-$matches = [];\r\n-foreach ($sequence as $index => $item) {\r\n-    $durations[] = rand(1, 100);  // Random duration between 1 and 100\r\n-    if ($item === 'Match' || (is_array($item) && in_array('Pitch Match', $item))) {\r\n-        $matches[] = ['x' => $index, 'y' => $durations[$index]];\r\n-    }\r\n-}\r\n-\r\n-// Calculate counts\r\n-foreach ($sequence as $item) {\r\n-    if (is_array($item)) {\r\n-        $counts['Duration Mismatch']++;\r\n-    } elseif ($item === 'Match') {\r\n-        $counts['Match']++;\r\n-    } elseif ($item === 'No Match') {\r\n-        $counts['No Match']++;\r\n-    } elseif ($item === 'Sliding') {\r\n-        $counts['Sliding']++;\r\n-    }\r\n-}\r\n-\r\n-// Prepare data points for Flot\r\n-$dataPoints = [];\r\n-$currentMatches = 0;\r\n-foreach ($sequence as $index => $item) {\r\n-    if ($item === 'Match') {\r\n-        $currentMatches++;\r\n-    }\r\n-    $dataPoints[] = [$index, $currentMatches];\r\n-}\r\n-\r\n-// Initialize counters\r\n-$matchCount = 0;\r\n-$mismatchCount = 0;\r\n-\r\n-// Calculate counts\r\n-foreach ($sequence as $item) {\r\n-    if (is_array($item)) {\r\n-        // Assuming 'Pitch Match', 'Duration Mismatch' is a type of match for simplicity\r\n-        $matchCount++;\r\n-    } elseif ($item === 'Match') {\r\n-        $matchCount++;\r\n-    } elseif ($item === 'No Match') {\r\n-        $mismatchCount++;\r\n-    }\r\n-}\r\n-$matchCount = count(array_filter($sequence, function($item) {\r\n-    return $item === 'Match' || (is_array($item) && in_array('Pitch Match', $item));\r\n-}));\r\n-\r\n-// Data for Flot\r\n-$flotData = [\r\n-    [\"label\" => \"Matches\", \"data\" => $matchCount, \"color\" => \"#00FF00\"],\r\n-    [\"label\" => \"Mismatches\", \"data\" => $mismatchCount, \"color\" => \"#FF0000\"]\r\n-];\r\n-\r\n-$matches = array_map(function ($match) {\r\n-    return [$match['x'], $match['y']];\r\n-}, $matches);\r\n-\r\n-?>\r\n-<!-- BEGIN CONTENT -->\r\n-<div class=\"page-content-wrapper\">\r\n-    <div class=\"page-content\">\r\n-        <!-- BEGIN PAGE HEADER-->\r\n-        <div class=\"row\">\r\n-            <div class=\"col-md-12\">\r\n-                <!-- BEGIN PAGE TITLE & BREADCRUMB-->\r\n-                <h3 class=\"page-title\">\r\n-                    <?php echo lang('sub_set_optional'); ?>\r\n-                </h3>\r\n-                <ul class=\"page-breadcrumb breadcrumb\">\r\n-                    <li>\r\n-                        <i class=\"fa fa-home\"></i>Home\r\n-                    </li>\r\n-                    <li>\r\n-                        <?php echo lang('sub_song'); ?>\r\n-                    </li>\r\n-                    <li>\r\n-                        <?php echo lang('header_ass_opt_sub'); ?>\r\n-                    </li>\r\n-                    <li id=\"result\" class=\"pull-right topClock\"></li>\r\n-                </ul>\r\n-                <!-- END PAGE TITLE & BREADCRUMB-->\r\n-            </div>\r\n-        </div>\r\n-        <!-- END PAGE HEADER-->\r\n-\r\n-        <!-- BEGIN PAGE CONTENT-->\r\n-        <div class=\"row\">\r\n-            <!-- Bar Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-bar-chart\"></i> Bar Chart for Match Count\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"bar_chart\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Pie Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-pie-chart\"></i> Pie Chart for Match Distribution\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                    <canvas id=\"pie_chart\" style=\"max-width:400px; max-height:400px;\"></canvas>\r\n-\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Line Chart Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box purple\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-line-chart\"></i> Line Chart for Match Proportion Over Time\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"line_chart\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <!-- Stacked Bar Chart Placeholder -->\r\n-          \r\n-\r\n-              <!--  Bar Chart Placeholder -->\r\n-             <!-- Bar Chart Placeholder -->\r\n-                <div class=\"col-md-12\">\r\n-                    <div class=\"portlet box purple\" style=\"background-color: white;\">\r\n-                        <div class=\"portlet-title\">\r\n-                            <div class=\"caption\">\r\n-                                <i class=\"fa fa-bars\"></i> Bar Chart for scores across sequences\r\n-                            </div>\r\n-                        </div>\r\n-                        <div class=\"portlet-body\">\r\n-                            <canvas id=\"scoresChart\"></canvas>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>\r\n-\r\n-\r\n-            <!-- Scatter Plot Placeholder -->\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box blue\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-scatter-plot\"></i> Scatter Plot for Matches vs. Duration\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                        <div id=\"scatter_plot\" style=\"width:100%; height:400px;\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <div class=\"col-md-12\">\r\n-                <div class=\"portlet box blue\">\r\n-                    <div class=\"portlet-title\">\r\n-                        <div class=\"caption\">\r\n-                            <i class=\"fa fa-scatter-plot\"></i> Histogram Plot for Sequence Duration\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"portlet-body\">\r\n-                    <div id=\"histogram\" style=\"width:600px;height:300px;\"></div>\r\n-\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-\r\n-        </div>\r\n-        <!-- END PAGE CONTENT-->\r\n-    </div>\r\n-</div>\r\n-<!-- END CONTENT -->\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/jquery\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/jquery.flot\"></script>\r\n-<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flot/4.2.6/jquery.flot.categories.min.js\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js\"></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<canvas id=\"pie_chart\"></canvas>\r\n-\r\n-\r\n-\r\n-\r\n-<script>  \r\n- function updateBarChart() {\r\n-    var barData = [\r\n-    {\r\n-        label: \"Match\",\r\n-        data: [ [1, <?php echo $counts['Match']; ?>] ],\r\n-        color: \"#8A2BE2\"  // A shade of purple\r\n-    },\r\n-    {\r\n-        label: \"No Match\",\r\n-        data: [ [2, <?php echo $counts['No Match']; ?>] ],\r\n-        color: \"#DA70D6\"  // Another shade of purple\r\n-    },\r\n-    {\r\n-        label: \"Sliding\",\r\n-        data: [ [3, <?php echo $counts['Sliding']; ?>] ],\r\n-        color: \"#9370DB\"  // Another shade of purple\r\n-    },\r\n-    {\r\n-        label: \"Duration Mismatch\",\r\n-        data: [ [4, <?php echo $counts['Duration Mismatch']; ?>] ],\r\n-        color: \"#D8BFD8\"  // Another shade of purple\r\n-    }\r\n-];\r\n-\r\n-var options = {\r\n-    series: {\r\n-        bars: {\r\n-            show: true,\r\n-            barWidth: 0.5,\r\n-            align: 'center'\r\n-        }\r\n-    },\r\n-    xaxis: {\r\n-        mode: 'categories',\r\n-        tickLength: 0,\r\n-        label: \"Types\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        label: \"Count\" // Label for the y-axis\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        clickable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    legend: {\r\n-        show: true,\r\n-        position: \"ne\" // Legend at the top right corner\r\n-    }\r\n-};\r\n-\r\n-$.plot('#bar_chart', barData, options);\r\n-\r\n-}\r\n-\r\n-$(document).ready(function() {\r\n-    updateBarChart(); // This calls the function after the document is ready\r\n-});\r\n-\r\n-</script>\r\n-<script>\r\n-jQuery(document).ready(function() {\r\n-    function updatePieChart() {\r\n-        var data = {\r\n-    labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n-    datasets: [{\r\n-        data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n-        backgroundColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'], // Shades of purple\r\n-        borderColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'],\r\n-        borderWidth: 1\r\n-    }]\r\n-};\r\n-\r\n-        var ctx = document.getElementById('pie_chart').getContext('2d');\r\n-        var pieChart = new Chart(ctx, {\r\n-    type: 'pie',\r\n-    data: data,\r\n-    options: {\r\n-        responsive: true,\r\n-        legend: {\r\n-            position: 'top',\r\n-        },\r\n-        title: {\r\n-            display: true,\r\n-            text: 'Match Distribution'\r\n-        },\r\n-        tooltips: { // Enabling tooltips\r\n-            enabled: true\r\n-        },\r\n-        animation: {\r\n-            animateScale: true,\r\n-            animateRotate: true\r\n-        }\r\n-    }\r\n-});\r\n-    }\r\n-    updatePieChart();\r\n-});\r\n-</script>\r\n-\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateGraph() {\r\n-        // Fetch new data periodically (simulation here; replace with AJAX call in production)\r\n-        var data = [\r\n-    {\r\n-        label: \"Match Count Over Time\",\r\n-        data: <?php echo json_encode($dataPoints); ?>,\r\n-        lines: { show: true, fill: false },\r\n-        color: \"#8A2BE2\"  // Purple color\r\n-    }\r\n-];\r\n-\r\n-\r\n-     // Inside your existing updateGraph function\r\n-var options = {\r\n-    series: {\r\n-        lines: {\r\n-            show: true,\r\n-            fill: true\r\n-        },\r\n-        points: {\r\n-            show: true\r\n-        }\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        clickable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    xaxis: {\r\n-        tickDecimals: 0,\r\n-        tickSize: 1,\r\n-        label: \"Time\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        min: 0,\r\n-        tickSize: 1,\r\n-        label: \"Matches\" // Label for the y-axis\r\n-    },\r\n-    legend: {\r\n-        show: true\r\n-    }\r\n-};\r\n-$.plot(\"#line_chart\", data, options);\r\n-\r\n-\r\n-        // Tooltips setup\r\n-        $('<div id=\"tooltip\"></div>').css({\r\n-            position: \"absolute\",\r\n-            display: \"none\",\r\n-            border: \"1px solid #fdd\",\r\n-            padding: \"2px\",\r\n-            \"background-color\": \"#fee\",\r\n-            opacity: 0.80\r\n-        }).appendTo(\"body\");\r\n-\r\n-        $(\"#matchTimeGraph\").bind(\"plothover\", function (event, pos, item) {\r\n-            if (item) {\r\n-                var x = item.datapoint[0].toFixed(2),\r\n-                    y = item.datapoint[1].toFixed(2);\r\n-\r\n-                $(\"#tooltip\").html(\"Match at \" + x + \": \" + y)\r\n-                    .css({top: item.pageY+5, left: item.pageX+5})\r\n-                    .fadeIn(200);\r\n-            } else {\r\n-                $(\"#tooltip\").hide();\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    // Initial graph load\r\n-    updateGraph();\r\n-\r\n-    // Optional: Update graph data periodically\r\n-    setInterval(function() {\r\n-        updateGraph(); // Redraw the graph with potentially new data\r\n-    }, 10000); // Update every 10 seconds\r\n-});\r\n-</script>\r\n-<?php\r\n-\r\n-// Parse sequences and count types for each sequence\r\n-$typeCounts = [];\r\n-$scores = [];\r\n-\r\n-\r\n-// Convert PHP arrays to JavaScript arrays\r\n-$typeCountsJS = json_encode($typeCounts);\r\n-$scoresJS = json_encode($scores);\r\n-?>\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateScatterPlot() {\r\n-        \r\n-        // Simulated data; replace with AJAX call in production to fetch real-time data\r\n-        var scatterData = [\r\n-    {\r\n-        label: \"Matches vs Duration\",\r\n-        data: <?php echo json_encode($matches); ?>,\r\n-        points: { show: true },\r\n-        color: \"#9370DB\"  // Purple color\r\n-    }\r\n-];\r\n-\r\n-\r\n-\r\n-        // Initialize the scatter plot\r\n-        $.plot(\"#scatter_plot\", scatterData, {\r\n-            series: {\r\n-                lines: { show: false },\r\n-                points: { show: true, radius: 3 }\r\n-            },\r\n-            grid: {\r\n-                hoverable: true,\r\n-                clickable: true,\r\n-                borderWidth: 1,\r\n-                borderColor: '#ccc'\r\n-            },\r\n-            xaxis: {\r\n-                tickDecimals: 0,\r\n-                tickSize: 1\r\n-            },\r\n-            yaxis: {\r\n-                min: 0\r\n-            }\r\n-        });\r\n-\r\n-        // Tooltips setup\r\n-        $('<div id=\"tooltip\"></div>').css({\r\n-            position: \"absolute\",\r\n-            display: \"none\",\r\n-            border: \"1px solid #fdd\",\r\n-            padding: \"2px\",\r\n-            \"background-color\": \"#fee\",\r\n-            opacity: 0.80\r\n-        }).appendTo(\"body\");\r\n-\r\n-        $(\"#scatter_plot\").bind(\"plothover\", function(event, pos, item) {\r\n-            if (item) {\r\n-                var x = item.datapoint[0].toFixed(2),\r\n-                    y = item.datapoint[1].toFixed(2);\r\n-\r\n-                $(\"#tooltip\").html(item.series.label + \" at \" + x + \": \" + y)\r\n-                    .css({top: item.pageY+5, left: item.pageX+5})\r\n-                    .fadeIn(200);\r\n-            } else {\r\n-                $(\"#tooltip\").hide();\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    // Initial chart load\r\n-    updateScatterPlot();\r\n-\r\n-    // Optional: Update chart data periodically\r\n-    setInterval(function() {\r\n-        updateScatterPlot(); // Redraw the graph with potentially new data\r\n-    }, 10000); // Update every 10 seconds, adjust timing as needed\r\n-});\r\n-</script>\r\n-<script type=\"text/javascript\">\r\n-jQuery(document).ready(function() {\r\n-    function updateHistogram(sequenceDurations) {\r\n-        var histogramData = [];\r\n-        var binSize = 10; // This value can be adjusted as needed for your histogram resolution\r\n-        var maxDuration = Math.max.apply(null, sequenceDurations);\r\n-        var numBins = Math.ceil(maxDuration / binSize);\r\n-        var bins = new Array(numBins).fill(0);\r\n-\r\n-        sequenceDurations.forEach(function(duration) {\r\n-            var binIndex = Math.floor(duration / binSize);\r\n-            bins[binIndex]++;\r\n-        });\r\n-\r\n-        bins.forEach(function(count, index) {\r\n-            if (count > 0) {\r\n-                histogramData.push([index * binSize + binSize / 2, count]); // Center the bar\r\n-            }\r\n-        });\r\n-\r\n-       // Inside your existing updateHistogram function\r\n-var options = {\r\n-    series: {\r\n-        bars: {\r\n-            show: true,\r\n-            align: 'center'\r\n-        }\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n-    },\r\n-    xaxis: {\r\n-        tickSize: binSize,\r\n-        min: 0,\r\n-        max: maxDuration + binSize,\r\n-        label: \"Duration (units)\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        min: 0,\r\n-        label: \"Frequency\" // Label for the y-axis\r\n-    },\r\n-    legend: {\r\n-        show: true\r\n-    }\r\n-};\r\n-$.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8 } }], options);\r\n-\r\n-    }\r\n-\r\n-    // Dummy data for sequence durations\r\n-    var sequenceDurations = [5, 20, 15, 10, 35, 25, 30, 40, 45, 10, 20, 25, 30, 50, 55, 60, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];\r\n-\r\n-    // Call the update function to display the histogram\r\n-    updateHistogram(sequenceDurations);\r\n-});\r\n-</script>\r\n-<?php\r\n-// Assuming you have your scores in an associative array format\r\n-$sequenceScores = [\r\n-    'Sequence 1' => 87,\r\n-    'Sequence 2' => 92,\r\n-    'Sequence 3' => 75\r\n-];\r\n-\r\n-// Convert PHP array to JSON\r\n-$scoresJson = json_encode($sequenceScores);\r\n-?>\r\n-\r\n-<script>\r\n-var scoresData = <?php echo $scoresJson; ?>;\r\n-</script>\r\n-\r\n-<script>\r\n-document.addEventListener('DOMContentLoaded', function() {\r\n-    var ctx = document.getElementById('scoresChart').getContext('2d');\r\n-    var scoresChart = new Chart(ctx, {\r\n-        type: 'bar',\r\n-        data: {\r\n-            labels: Object.keys(scoresData), // Sequence names\r\n-            datasets: [{\r\n-                label: 'Scores',\r\n-                data: Object.values(scoresData), // Actual scores\r\n-                backgroundColor: [\r\n-                    'rgba(255, 99, 132, 0.2)',\r\n-                    'rgba(54, 162, 235, 0.2)',\r\n-                    'rgba(255, 206, 86, 0.2)'\r\n-                ],\r\n-                borderColor: [\r\n-                    'rgba(255, 99, 132, 1)',\r\n-                    'rgba(54, 162, 235, 1)',\r\n-                    'rgba(255, 206, 86, 1)'\r\n-                ],\r\n-                borderWidth: 1\r\n-            }]\r\n-        },\r\n-        options: {\r\n-            scales: {\r\n-                y: {\r\n-                    beginAtZero: true\r\n-                }\r\n-            },\r\n-            plugins: {\r\n-                legend: {\r\n-                    labels: {\r\n-                        // This more specific font property overrides the global property\r\n-                        font: {\r\n-                            size: 14\r\n-                        }\r\n-                    }\r\n-                }\r\n-            },\r\n-            // Set the background color here\r\n-            layout: {\r\n-                padding: {\r\n-                    left: 0,\r\n-                    right: 0,\r\n-                    top: 0,\r\n-                    bottom: 0\r\n-                }\r\n-            },\r\n-            backgroundColor: 'white' // Here's the key to setting the background color\r\n-        }\r\n-    });\r\n-});\r\n-</script>\r\n"
                },
                {
                    "date": 1713948198361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -581,9 +581,9 @@\n             'rgba(186, 85, 211, 1)'  // Darker purple\r\n         ],\r\n         borderWidth: 1\r\n     }]\r\n-};\r\n+},\r\n         options: {\r\n             scales: {\r\n                 y: {\r\n                     beginAtZero: true\r\n"
                },
                {
                    "date": 1713948237200,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -564,14 +564,14 @@\n document.addEventListener('DOMContentLoaded', function() {\r\n     var ctx = document.getElementById('scoresChart').getContext('2d');\r\n     var scoresChart = new Chart(ctx, {\r\n         type: 'bar',\r\n-        var data = {\r\n-    labels: Object.keys(scoresData), // Sequence names\r\n-    datasets: [{\r\n-        label: 'Scores',\r\n-        data: Object.values(scoresData), // Actual scores\r\n-        backgroundColor: [\r\n+        data: {\r\n+            labels: Object.keys(scoresData), // Sequence names\r\n+            datasets: [{\r\n+                label: 'Scores',\r\n+                data: Object.values(scoresData), // Actual scores\r\n+                backgroundColor: [\r\n             'rgba(148, 0, 211, 0.2)',  // A shade of purple\r\n             'rgba(153, 50, 204, 0.2)', // Another shade of purple\r\n             'rgba(186, 85, 211, 0.2)'  // Another shade of purple\r\n         ],\r\n@@ -579,11 +579,11 @@\n             'rgba(148, 0, 211, 1)',  // Darker purple\r\n             'rgba(153, 50, 204, 1)', // Darker purple\r\n             'rgba(186, 85, 211, 1)'  // Darker purple\r\n         ],\r\n-        borderWidth: 1\r\n-    }]\r\n-},\r\n+                borderWidth: 1\r\n+            }]\r\n+        },\r\n         options: {\r\n             scales: {\r\n                 y: {\r\n                     beginAtZero: true\r\n"
                },
                {
                    "date": 1713948296703,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -516,9 +516,9 @@\n     },\r\n     grid: {\r\n         hoverable: true,\r\n         borderWidth: 1,\r\n-        borderColor: '#ccc'\r\n+        borderColor: '#D8BFD8'\r\n     },\r\n     xaxis: {\r\n         tickSize: binSize,\r\n         min: 0,\r\n"
                },
                {
                    "date": 1713948316294,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -516,9 +516,9 @@\n     },\r\n     grid: {\r\n         hoverable: true,\r\n         borderWidth: 1,\r\n-        borderColor: '#D8BFD8'\r\n+        borderColor: '#9370DB'\r\n     },\r\n     xaxis: {\r\n         tickSize: binSize,\r\n         min: 0,\r\n"
                },
                {
                    "date": 1713948450015,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -489,62 +489,65 @@\n <script type=\"text/javascript\">\r\n jQuery(document).ready(function() {\r\n     function updateHistogram(sequenceDurations) {\r\n         var histogramData = [];\r\n-        var binSize = 10; // This value can be adjusted as needed for your histogram resolution\r\n+        var binSize = 10; // Adjust bin size as needed\r\n         var maxDuration = Math.max.apply(null, sequenceDurations);\r\n         var numBins = Math.ceil(maxDuration / binSize);\r\n         var bins = new Array(numBins).fill(0);\r\n \r\n+        // Populate bins based on sequence durations\r\n         sequenceDurations.forEach(function(duration) {\r\n             var binIndex = Math.floor(duration / binSize);\r\n             bins[binIndex]++;\r\n         });\r\n \r\n+        // Create data for histogram\r\n         bins.forEach(function(count, index) {\r\n             if (count > 0) {\r\n                 histogramData.push([index * binSize + binSize / 2, count]); // Center the bar\r\n             }\r\n         });\r\n \r\n-       // Inside your existing updateHistogram function\r\n-var options = {\r\n-    series: {\r\n-        bars: {\r\n-            show: true,\r\n-            align: 'center'\r\n-        }\r\n-    },\r\n-    grid: {\r\n-        hoverable: true,\r\n-        borderWidth: 1,\r\n-        borderColor: '#9370DB'\r\n-    },\r\n-    xaxis: {\r\n-        tickSize: binSize,\r\n-        min: 0,\r\n-        max: maxDuration + binSize,\r\n-        label: \"Duration (units)\" // Label for the x-axis\r\n-    },\r\n-    yaxis: {\r\n-        min: 0,\r\n-        label: \"Frequency\" // Label for the y-axis\r\n-    },\r\n-    legend: {\r\n-        show: true\r\n-    }\r\n-};\r\n-$.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8, fillColor: \"#D8BFD8\" } }], options);\r\n+        // Plotting options for histogram\r\n+        var options = {\r\n+            series: {\r\n+                bars: {\r\n+                    show: true,\r\n+                    align: 'center',\r\n+                    fillColor: \"#FFD700\"  // A yellowish color\r\n+                }\r\n+            },\r\n+            grid: {\r\n+                hoverable: true,\r\n+                borderWidth: 1,\r\n+                borderColor: '#9370DB'  // Purple border color for consistency\r\n+            },\r\n+            xaxis: {\r\n+                tickSize: binSize,\r\n+                min: 0,\r\n+                max: maxDuration + binSize,\r\n+                label: \"Duration (units)\"\r\n+            },\r\n+            yaxis: {\r\n+                min: 0,\r\n+                label: \"Frequency\"\r\n+            },\r\n+            legend: {\r\n+                show: true\r\n+            }\r\n+        };\r\n \r\n+        // Render histogram\r\n+        $.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8 } }], options);\r\n     }\r\n \r\n-    // Dummy data for sequence durations\r\n+    // Example data for sequence durations\r\n     var sequenceDurations = [5, 20, 15, 10, 35, 25, 30, 40, 45, 10, 20, 25, 30, 50, 55, 60, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];\r\n-\r\n-    // Call the update function to display the histogram\r\n-    updateHistogram(sequenceDurations);\r\n+    updateHistogram(sequenceDurations); // Call function to display the histogram\r\n });\r\n </script>\r\n+\r\n <?php\r\n // Assuming you have your scores in an associative array format\r\n $sequenceScores = [\r\n     'Sequence 1' => 87,\r\n"
                },
                {
                    "date": 1713948472948,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -513,9 +513,9 @@\n             series: {\r\n                 bars: {\r\n                     show: true,\r\n                     align: 'center',\r\n-                    fillColor: \"#FFD700\"  // A yellowish color\r\n+                    fillColor: \"#9370DB\"  // A yellowish color\r\n                 }\r\n             },\r\n             grid: {\r\n                 hoverable: true,\r\n"
                },
                {
                    "date": 1713948495914,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -513,9 +513,9 @@\n             series: {\r\n                 bars: {\r\n                     show: true,\r\n                     align: 'center',\r\n-                    fillColor: \"#9370DB\"  // A yellowish color\r\n+                    fillColor: \"#9370DB\"  // A  color\r\n                 }\r\n             },\r\n             grid: {\r\n                 hoverable: true,\r\n"
                },
                {
                    "date": 1714252816701,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -286,10 +286,10 @@\n         var data = {\r\n     labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n     datasets: [{\r\n         data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n-        backgroundColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'], // Shades of purple\r\n-        borderColor: ['#8A2BE2', '#DA70D6', '#9370DB', '#D8BFD8'],\r\n+        backgroundColor: ['#8D83BF', '#1a1442', '#B9ADD5', '#897FBB'], // Shades of purple\r\n+        borderColor:['#8D83BF', '#1a1442', '#B9ADD5', '#897FBB'],\r\n         borderWidth: 1\r\n     }]\r\n };\r\n \r\n"
                },
                {
                    "date": 1714252849059,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -286,10 +286,10 @@\n         var data = {\r\n     labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n     datasets: [{\r\n         data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n-        backgroundColor: ['#8D83BF', '#1a1442', '#B9ADD5', '#897FBB'], // Shades of purple\r\n-        borderColor:['#8D83BF', '#1a1442', '#B9ADD5', '#897FBB'],\r\n+        backgroundColor: ['#8D83BF', '#B9ADD5','#1a1442', '#897FBB'], // Shades of purple\r\n+        borderColor:['#8D83BF', '#B9ADD5','#1a1442', '#897FBB'],\r\n         borderWidth: 1\r\n     }]\r\n };\r\n \r\n"
                },
                {
                    "date": 1714252894144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -286,10 +286,10 @@\n         var data = {\r\n     labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n     datasets: [{\r\n         data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n-        backgroundColor: ['#8D83BF', '#B9ADD5','#1a1442', '#897FBB'], // Shades of purple\r\n-        borderColor:['#8D83BF', '#B9ADD5','#1a1442', '#897FBB'],\r\n+        backgroundColor: ['#8D83BF', '#B9ADD5','#897FBB', '#1a1442'], // Shades of purple\r\n+        borderColor:['#8D83BF', '#B9ADD5','#897FBB','#1a1442'],\r\n         borderWidth: 1\r\n     }]\r\n };\r\n \r\n"
                },
                {
                    "date": 1714252953949,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -286,10 +286,10 @@\n         var data = {\r\n     labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n     datasets: [{\r\n         data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n-        backgroundColor: ['#8D83BF', '#B9ADD5','#897FBB', '#1a1442'], // Shades of purple\r\n-        borderColor:['#8D83BF', '#B9ADD5','#897FBB','#1a1442'],\r\n+        backgroundColor: ['#8D83BF', '#B9ADD5','#dcd4e9', '#1a1442'], // Shades of purple\r\n+        borderColor:['#8D83BF', '#B9ADD5','#dcd4e9','#1a1442'],\r\n         borderWidth: 1\r\n     }]\r\n };\r\n \r\n"
                }
            ],
            "date": 1713947864021,
            "name": "Commit-0",
            "content": "<?php\r\n\r\n// Define the sequence array\r\n$sequence = [\r\n    ['No Match', 'Sliding', ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match'],\r\n    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n    ['Pitch Match', 'Duration Mismatch'], 'Sliding',\r\n    ['Pitch Match', 'Duration Mismatch'], 'Match', 'No Match',\r\n    ['Pitch Match', 'Duration Mismatch'], 'Match', 'Match', 'Match'\r\n];\r\n\r\n// Initialize counters\r\n$counts = [\r\n    'Match' => 0,\r\n    'No Match' => 0,\r\n    'Sliding' => 0,\r\n    'Duration Mismatch' => 0\r\n];\r\n\r\n// Dummy durations and match counts\r\n$durations = [];\r\n$matches = [];\r\nforeach ($sequence as $index => $item) {\r\n    $durations[] = rand(1, 100);  // Random duration between 1 and 100\r\n    if ($item === 'Match' || (is_array($item) && in_array('Pitch Match', $item))) {\r\n        $matches[] = ['x' => $index, 'y' => $durations[$index]];\r\n    }\r\n}\r\n\r\n// Calculate counts\r\nforeach ($sequence as $item) {\r\n    if (is_array($item)) {\r\n        $counts['Duration Mismatch']++;\r\n    } elseif ($item === 'Match') {\r\n        $counts['Match']++;\r\n    } elseif ($item === 'No Match') {\r\n        $counts['No Match']++;\r\n    } elseif ($item === 'Sliding') {\r\n        $counts['Sliding']++;\r\n    }\r\n}\r\n\r\n// Prepare data points for Flot\r\n$dataPoints = [];\r\n$currentMatches = 0;\r\nforeach ($sequence as $index => $item) {\r\n    if ($item === 'Match') {\r\n        $currentMatches++;\r\n    }\r\n    $dataPoints[] = [$index, $currentMatches];\r\n}\r\n\r\n// Initialize counters\r\n$matchCount = 0;\r\n$mismatchCount = 0;\r\n\r\n// Calculate counts\r\nforeach ($sequence as $item) {\r\n    if (is_array($item)) {\r\n        // Assuming 'Pitch Match', 'Duration Mismatch' is a type of match for simplicity\r\n        $matchCount++;\r\n    } elseif ($item === 'Match') {\r\n        $matchCount++;\r\n    } elseif ($item === 'No Match') {\r\n        $mismatchCount++;\r\n    }\r\n}\r\n$matchCount = count(array_filter($sequence, function($item) {\r\n    return $item === 'Match' || (is_array($item) && in_array('Pitch Match', $item));\r\n}));\r\n\r\n// Data for Flot\r\n$flotData = [\r\n    [\"label\" => \"Matches\", \"data\" => $matchCount, \"color\" => \"#00FF00\"],\r\n    [\"label\" => \"Mismatches\", \"data\" => $mismatchCount, \"color\" => \"#FF0000\"]\r\n];\r\n\r\n$matches = array_map(function ($match) {\r\n    return [$match['x'], $match['y']];\r\n}, $matches);\r\n\r\n?>\r\n<!-- BEGIN CONTENT -->\r\n<div class=\"page-content-wrapper\">\r\n    <div class=\"page-content\">\r\n        <!-- BEGIN PAGE HEADER-->\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <!-- BEGIN PAGE TITLE & BREADCRUMB-->\r\n                <h3 class=\"page-title\">\r\n                    <?php echo lang('sub_set_optional'); ?>\r\n                </h3>\r\n                <ul class=\"page-breadcrumb breadcrumb\">\r\n                    <li>\r\n                        <i class=\"fa fa-home\"></i>Home\r\n                    </li>\r\n                    <li>\r\n                        <?php echo lang('sub_song'); ?>\r\n                    </li>\r\n                    <li>\r\n                        <?php echo lang('header_ass_opt_sub'); ?>\r\n                    </li>\r\n                    <li id=\"result\" class=\"pull-right topClock\"></li>\r\n                </ul>\r\n                <!-- END PAGE TITLE & BREADCRUMB-->\r\n            </div>\r\n        </div>\r\n        <!-- END PAGE HEADER-->\r\n\r\n        <!-- BEGIN PAGE CONTENT-->\r\n        <div class=\"row\">\r\n            <!-- Bar Chart Placeholder -->\r\n            <div class=\"col-md-12\">\r\n                <div class=\"portlet box purple\">\r\n                    <div class=\"portlet-title\">\r\n                        <div class=\"caption\">\r\n                            <i class=\"fa fa-bar-chart\"></i> Bar Chart for Match Count\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"portlet-body\">\r\n                        <div id=\"bar_chart\" style=\"width:100%; height:400px;\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Pie Chart Placeholder -->\r\n            <div class=\"col-md-12\">\r\n                <div class=\"portlet box purple\">\r\n                    <div class=\"portlet-title\">\r\n                        <div class=\"caption\">\r\n                            <i class=\"fa fa-pie-chart\"></i> Pie Chart for Match Distribution\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"portlet-body\">\r\n                    <canvas id=\"pie_chart\" style=\"max-width:400px; max-height:400px;\"></canvas>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Line Chart Placeholder -->\r\n            <div class=\"col-md-12\">\r\n                <div class=\"portlet box purple\">\r\n                    <div class=\"portlet-title\">\r\n                        <div class=\"caption\">\r\n                            <i class=\"fa fa-line-chart\"></i> Line Chart for Match Proportion Over Time\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"portlet-body\">\r\n                        <div id=\"line_chart\" style=\"width:100%; height:400px;\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Stacked Bar Chart Placeholder -->\r\n          \r\n\r\n              <!--  Bar Chart Placeholder -->\r\n             <!-- Bar Chart Placeholder -->\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"portlet box purple\" style=\"background-color: white;\">\r\n                        <div class=\"portlet-title\">\r\n                            <div class=\"caption\">\r\n                                <i class=\"fa fa-bars\"></i> Bar Chart for scores across sequences\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"portlet-body\">\r\n                            <canvas id=\"scoresChart\"></canvas>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            <!-- Scatter Plot Placeholder -->\r\n            <div class=\"col-md-12\">\r\n                <div class=\"portlet box blue\">\r\n                    <div class=\"portlet-title\">\r\n                        <div class=\"caption\">\r\n                            <i class=\"fa fa-scatter-plot\"></i> Scatter Plot for Matches vs. Duration\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"portlet-body\">\r\n                        <div id=\"scatter_plot\" style=\"width:100%; height:400px;\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-12\">\r\n                <div class=\"portlet box blue\">\r\n                    <div class=\"portlet-title\">\r\n                        <div class=\"caption\">\r\n                            <i class=\"fa fa-scatter-plot\"></i> Histogram Plot for Sequence Duration\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"portlet-body\">\r\n                    <div id=\"histogram\" style=\"width:600px;height:300px;\"></div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <!-- END PAGE CONTENT-->\r\n    </div>\r\n</div>\r\n<!-- END CONTENT -->\r\n\r\n<script src=\"https://cdn.jsdelivr.net/npm/jquery\"></script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/jquery.flot\"></script>\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flot/4.2.6/jquery.flot.categories.min.js\"></script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js\"></script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n\r\n<canvas id=\"pie_chart\"></canvas>\r\n\r\n\r\n\r\n\r\n<script>  \r\n function updateBarChart() {\r\n    var barData = [\r\n    {\r\n        label: \"Match\",\r\n        data: [ [1, <?php echo $counts['Match']; ?>] ],\r\n        color: \"#00FF00\"\r\n    },\r\n    {\r\n        label: \"No Match\",\r\n        data: [ [2, <?php echo $counts['No Match']; ?>] ],\r\n        color: \"#FF0000\"\r\n    },\r\n    {\r\n        label: \"Sliding\",\r\n        data: [ [3, <?php echo $counts['Sliding']; ?>] ],\r\n        color: \"#0000FF\"\r\n    },\r\n    {\r\n        label: \"Duration Mismatch\",\r\n        data: [ [4, <?php echo $counts['Duration Mismatch']; ?>] ],\r\n        color: \"#FFFF00\"\r\n    }\r\n]; \r\nvar options = {\r\n    series: {\r\n        bars: {\r\n            show: true,\r\n            barWidth: 0.5,\r\n            align: 'center'\r\n        }\r\n    },\r\n    xaxis: {\r\n        mode: 'categories',\r\n        tickLength: 0,\r\n        label: \"Types\" // Label for the x-axis\r\n    },\r\n    yaxis: {\r\n        label: \"Count\" // Label for the y-axis\r\n    },\r\n    grid: {\r\n        hoverable: true,\r\n        clickable: true,\r\n        borderWidth: 1,\r\n        borderColor: '#ccc'\r\n    },\r\n    legend: {\r\n        show: true,\r\n        position: \"ne\" // Legend at the top right corner\r\n    }\r\n};\r\n\r\n$.plot('#bar_chart', barData, options);\r\n\r\n}\r\n\r\n$(document).ready(function() {\r\n    updateBarChart(); // This calls the function after the document is ready\r\n});\r\n\r\n</script>\r\n<script>\r\njQuery(document).ready(function() {\r\n    function updatePieChart() {\r\n        var data = {\r\n            labels: ['Match', 'No Match', 'Sliding', 'Duration Mismatch'],\r\n            datasets: [{\r\n                data: [<?php echo $counts['Match']; ?>, <?php echo $counts['No Match']; ?>, <?php echo $counts['Sliding']; ?>, <?php echo $counts['Duration Mismatch']; ?>],\r\n                backgroundColor: ['rgba(255, 99, 132, 0.8)', 'rgba(54, 162, 235, 0.8)', 'rgba(255, 206, 86, 0.8)', 'rgba(75, 192, 192, 0.8)'],\r\n                borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)'],\r\n                borderWidth: 1\r\n            }]\r\n        };\r\n        var ctx = document.getElementById('pie_chart').getContext('2d');\r\n        var pieChart = new Chart(ctx, {\r\n    type: 'pie',\r\n    data: data,\r\n    options: {\r\n        responsive: true,\r\n        legend: {\r\n            position: 'top',\r\n        },\r\n        title: {\r\n            display: true,\r\n            text: 'Match Distribution'\r\n        },\r\n        tooltips: { // Enabling tooltips\r\n            enabled: true\r\n        },\r\n        animation: {\r\n            animateScale: true,\r\n            animateRotate: true\r\n        }\r\n    }\r\n});\r\n    }\r\n    updatePieChart();\r\n});\r\n</script>\r\n\r\n<script type=\"text/javascript\">\r\njQuery(document).ready(function() {\r\n    function updateGraph() {\r\n        // Fetch new data periodically (simulation here; replace with AJAX call in production)\r\n        var data = <?php echo json_encode([$dataPoints]); ?>;\r\n\r\n     // Inside your existing updateGraph function\r\nvar options = {\r\n    series: {\r\n        lines: {\r\n            show: true,\r\n            fill: true\r\n        },\r\n        points: {\r\n            show: true\r\n        }\r\n    },\r\n    grid: {\r\n        hoverable: true,\r\n        clickable: true,\r\n        borderWidth: 1,\r\n        borderColor: '#ccc'\r\n    },\r\n    xaxis: {\r\n        tickDecimals: 0,\r\n        tickSize: 1,\r\n        label: \"Time\" // Label for the x-axis\r\n    },\r\n    yaxis: {\r\n        min: 0,\r\n        tickSize: 1,\r\n        label: \"Matches\" // Label for the y-axis\r\n    },\r\n    legend: {\r\n        show: true\r\n    }\r\n};\r\n$.plot(\"#line_chart\", data, options);\r\n\r\n\r\n        // Tooltips setup\r\n        $('<div id=\"tooltip\"></div>').css({\r\n            position: \"absolute\",\r\n            display: \"none\",\r\n            border: \"1px solid #fdd\",\r\n            padding: \"2px\",\r\n            \"background-color\": \"#fee\",\r\n            opacity: 0.80\r\n        }).appendTo(\"body\");\r\n\r\n        $(\"#matchTimeGraph\").bind(\"plothover\", function (event, pos, item) {\r\n            if (item) {\r\n                var x = item.datapoint[0].toFixed(2),\r\n                    y = item.datapoint[1].toFixed(2);\r\n\r\n                $(\"#tooltip\").html(\"Match at \" + x + \": \" + y)\r\n                    .css({top: item.pageY+5, left: item.pageX+5})\r\n                    .fadeIn(200);\r\n            } else {\r\n                $(\"#tooltip\").hide();\r\n            }\r\n        });\r\n    }\r\n\r\n    // Initial graph load\r\n    updateGraph();\r\n\r\n    // Optional: Update graph data periodically\r\n    setInterval(function() {\r\n        updateGraph(); // Redraw the graph with potentially new data\r\n    }, 10000); // Update every 10 seconds\r\n});\r\n</script>\r\n<?php\r\n\r\n// Parse sequences and count types for each sequence\r\n$typeCounts = [];\r\n$scores = [];\r\n\r\n\r\n// Convert PHP arrays to JavaScript arrays\r\n$typeCountsJS = json_encode($typeCounts);\r\n$scoresJS = json_encode($scores);\r\n?>\r\n\r\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n\r\n\r\n<script type=\"text/javascript\">\r\njQuery(document).ready(function() {\r\n    function updateScatterPlot() {\r\n        \r\n        // Simulated data; replace with AJAX call in production to fetch real-time data\r\n        var scatterData = [\r\n    {\r\n        label: \"Matches vs Duration\",\r\n        data: <?php echo json_encode($matches); ?>,\r\n        points: { show: true },\r\n        color: \"#00FF00\"\r\n    }\r\n];\r\n\r\n\r\n        // Initialize the scatter plot\r\n        $.plot(\"#scatter_plot\", scatterData, {\r\n            series: {\r\n                lines: { show: false },\r\n                points: { show: true, radius: 3 }\r\n            },\r\n            grid: {\r\n                hoverable: true,\r\n                clickable: true,\r\n                borderWidth: 1,\r\n                borderColor: '#ccc'\r\n            },\r\n            xaxis: {\r\n                tickDecimals: 0,\r\n                tickSize: 1\r\n            },\r\n            yaxis: {\r\n                min: 0\r\n            }\r\n        });\r\n\r\n        // Tooltips setup\r\n        $('<div id=\"tooltip\"></div>').css({\r\n            position: \"absolute\",\r\n            display: \"none\",\r\n            border: \"1px solid #fdd\",\r\n            padding: \"2px\",\r\n            \"background-color\": \"#fee\",\r\n            opacity: 0.80\r\n        }).appendTo(\"body\");\r\n\r\n        $(\"#scatter_plot\").bind(\"plothover\", function(event, pos, item) {\r\n            if (item) {\r\n                var x = item.datapoint[0].toFixed(2),\r\n                    y = item.datapoint[1].toFixed(2);\r\n\r\n                $(\"#tooltip\").html(item.series.label + \" at \" + x + \": \" + y)\r\n                    .css({top: item.pageY+5, left: item.pageX+5})\r\n                    .fadeIn(200);\r\n            } else {\r\n                $(\"#tooltip\").hide();\r\n            }\r\n        });\r\n    }\r\n\r\n    // Initial chart load\r\n    updateScatterPlot();\r\n\r\n    // Optional: Update chart data periodically\r\n    setInterval(function() {\r\n        updateScatterPlot(); // Redraw the graph with potentially new data\r\n    }, 10000); // Update every 10 seconds, adjust timing as needed\r\n});\r\n</script>\r\n<script type=\"text/javascript\">\r\njQuery(document).ready(function() {\r\n    function updateHistogram(sequenceDurations) {\r\n        var histogramData = [];\r\n        var binSize = 10; // This value can be adjusted as needed for your histogram resolution\r\n        var maxDuration = Math.max.apply(null, sequenceDurations);\r\n        var numBins = Math.ceil(maxDuration / binSize);\r\n        var bins = new Array(numBins).fill(0);\r\n\r\n        sequenceDurations.forEach(function(duration) {\r\n            var binIndex = Math.floor(duration / binSize);\r\n            bins[binIndex]++;\r\n        });\r\n\r\n        bins.forEach(function(count, index) {\r\n            if (count > 0) {\r\n                histogramData.push([index * binSize + binSize / 2, count]); // Center the bar\r\n            }\r\n        });\r\n\r\n       // Inside your existing updateHistogram function\r\nvar options = {\r\n    series: {\r\n        bars: {\r\n            show: true,\r\n            align: 'center'\r\n        }\r\n    },\r\n    grid: {\r\n        hoverable: true,\r\n        borderWidth: 1,\r\n        borderColor: '#ccc'\r\n    },\r\n    xaxis: {\r\n        tickSize: binSize,\r\n        min: 0,\r\n        max: maxDuration + binSize,\r\n        label: \"Duration (units)\" // Label for the x-axis\r\n    },\r\n    yaxis: {\r\n        min: 0,\r\n        label: \"Frequency\" // Label for the y-axis\r\n    },\r\n    legend: {\r\n        show: true\r\n    }\r\n};\r\n$.plot('#histogram', [{ data: histogramData, bars: { show: true, barWidth: binSize * 0.8 } }], options);\r\n\r\n    }\r\n\r\n    // Dummy data for sequence durations\r\n    var sequenceDurations = [5, 20, 15, 10, 35, 25, 30, 40, 45, 10, 20, 25, 30, 50, 55, 60, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];\r\n\r\n    // Call the update function to display the histogram\r\n    updateHistogram(sequenceDurations);\r\n});\r\n</script>\r\n<?php\r\n// Assuming you have your scores in an associative array format\r\n$sequenceScores = [\r\n    'Sequence 1' => 87,\r\n    'Sequence 2' => 92,\r\n    'Sequence 3' => 75\r\n];\r\n\r\n// Convert PHP array to JSON\r\n$scoresJson = json_encode($sequenceScores);\r\n?>\r\n\r\n<script>\r\nvar scoresData = <?php echo $scoresJson; ?>;\r\n</script>\r\n\r\n<script>\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    var ctx = document.getElementById('scoresChart').getContext('2d');\r\n    var scoresChart = new Chart(ctx, {\r\n        type: 'bar',\r\n        data: {\r\n            labels: Object.keys(scoresData), // Sequence names\r\n            datasets: [{\r\n                label: 'Scores',\r\n                data: Object.values(scoresData), // Actual scores\r\n                backgroundColor: [\r\n                    'rgba(255, 99, 132, 0.2)',\r\n                    'rgba(54, 162, 235, 0.2)',\r\n                    'rgba(255, 206, 86, 0.2)'\r\n                ],\r\n                borderColor: [\r\n                    'rgba(255, 99, 132, 1)',\r\n                    'rgba(54, 162, 235, 1)',\r\n                    'rgba(255, 206, 86, 1)'\r\n                ],\r\n                borderWidth: 1\r\n            }]\r\n        },\r\n        options: {\r\n            scales: {\r\n                y: {\r\n                    beginAtZero: true\r\n                }\r\n            },\r\n            plugins: {\r\n                legend: {\r\n                    labels: {\r\n                        // This more specific font property overrides the global property\r\n                        font: {\r\n                            size: 14\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            // Set the background color here\r\n            layout: {\r\n                padding: {\r\n                    left: 0,\r\n                    right: 0,\r\n                    top: 0,\r\n                    bottom: 0\r\n                }\r\n            },\r\n            backgroundColor: 'white' // Here's the key to setting the background color\r\n        }\r\n    });\r\n});\r\n</script>\r\n"
        }
    ]
}